(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"3n8g":function(n,t,l){"use strict";l.d(t,"a",function(){return u});var e=l("mrSG"),o=l("Ovi0"),r=l("CcnG"),i=l("t/Na"),u=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.name="stats",t.location="/api/v1/stats",t}return e.d(t,n),t.ngInjectableDef=r.S({factory:function(){return new t(r.W(i.c))},token:t,providedIn:"root"}),t}(o.b)},Ovi0:function(n,t,l){"use strict";var e,o=function(){function n(){}return n.where=function(t,l){var e=Object.keys(l);return!e.length||e.filter(function(e){return n.operatorFilter(t[e],l[e])}).length>0},n.operatorFilter=function(t,l){var e="=";if("object"==typeof l){if(l[0])return l.filter(function(l){if("object"==typeof l){var o=n.validOperator(l.operator),r=l.value?l.value:null;return null!==r&&n.matches(t,o,r)}return n.matches(t,e,l)}).length>0;l.operator&&(e=n.validOperator(l.operator)),l=l.value}return n.matches(t,e,l)},n.matches=function(t,l,e){switch("string"==typeof t&&(t=t.toLowerCase()),"string"==typeof e&&(e=e.toLowerCase()),"undefined"!==e&&"null"!==e||(e=""),l){case"neq":case"<>":case"!=":return t!==e;case"lt":case"<":return t<e;case"gt":case">":return t>e;case"lte":case"<=":return t<=e;case"gte":case">=":return t>=e;case"not like":case"!like":return!n.like(t,e);case"like":return n.like(t,e);case"!regexp":case"not regexp":return!new RegExp(e).test(t);case"regexp":return new RegExp(e).test(t);case"eq":case"<=>":default:return t===e}},n.validOperator=function(t){return n.validOperators.indexOf(t)?n.mapOperator(t):"="},n.mapOperator=function(t){return n.mappings[t]?n.mappings[t]:t},n.like=function(t,l){return"%"===l.substr(0,1)&&"%"===l.substr(l.length-1,1)?t.indexOf(n.clear(l.substring(1,l.length-1)))>-1:"%"===l.substr(0,1)?t.indexOf(n.clear(l.substring(1,l.length)))>0:"%"===l.substr(l.length-1,1)&&0===t.indexOf(n.clear(l.substring(0,l.length-1)))},n.clear=function(n){return"undefined"!==n&&"null"!==n||(n=""),n},n.validOperators=["eq","neq","lt","gt","lte","gte","!regexp","!like","<",">","<=",">=","<>","!=","<=>","like","not like","regexp","not regexp"],n.mappings={eq:"=",neq:"!=",lt:"<",gt:">",lte:"<=",gte:">=","!regexp":"not regexp","!like":"not like"},n}(),r=function(){function n(n){this.parent=n,this._listeners=[],this._isFullyload=!1}return n.prototype.addListener=function(n){console.log("Add listener: "+n.constructor.name),this._listeners.push(n)},n.prototype.validate=function(n){var t=this;return n.with.length===n.with.filter(function(n){return"string"!=typeof n&&t[n.name]}).length&&n.wheres.length===n.wheres.filter(function(n){return o.where(t,n)}).length&&(!n.full||this._isFullyload)},n.prototype.update=function(n){var t=this;return this.parent.call("patch",this.parent.location+"/"+this.id,{data:n}).then(function(n){return t.fill(n.data)}).catch(function(n){console.log(n)})},n.prototype.fill=function(n,t){var l=this,e=Object.assign(this,n);return t&&(t.full&&(this._isFullyload=!0),t.with.forEach(function(n){"string"!=typeof n&&e.hasOwnProperty(n.name)&&(e[n.name]=e[n.name].map(function(t){var e=n.findOrCreate(t);return e.addListener(l),e}))})),e},n.prototype.delete=function(){var n=this;return this.parent.call("delete",this.parent.location+"/"+this.id).then(function(t){n._listeners.forEach(function(t){t.cleanup(n.id,n.parent),t.parent.refresh()}),n.parent.delete(n.id),n.parent.refresh()}).catch(function(n){console.log(n)})},n.prototype.cleanup=function(n,t){this.hasOwnProperty(t.name)&&(this[t.name]=this[t.name].filter(function(t){return t.id!==n}))},n.prototype.attach=function(n){var t,l=this,e=n.parent.name;return this.parent.call("post",this.parent.location+"/"+this.id+"/"+e,{data:(t={},t[e]=[n.id],t)}).then(function(t){l[e]||(l[e]=[]),l[e].push(n),n.addListener(l)})},n.prototype.detach=function(n){var t=this,l=n.parent.name;return this.parent.call("delete",this.parent.location+"/"+this.id+"/"+l+"/"+n.id).then(function(e){t[l]&&(t[l]=t[l].filter(function(t){return t.id!==n.id}),n.addListener(t))})},n}(),i=l("K9Ia"),u=l("26FU"),c=l("CcnG"),a=l("t/Na");l.d(t,"a",function(){return e}),l.d(t,"b",function(){return s}),function(n){n.ASC="ASC",n.DESC="DESC"}(e||(e={}));var s=function(){function n(n){this.httpClient=n,this._searchWheres=new i.a,this.collection=new u.a([]),this.subscriptions=[],this.reset()}return n.prototype.where=function(n){return this._options.wheres.push(n),this},n.prototype.with=function(n){return this._options.with.push(n),this},n.prototype.find=function(n){var t=this,l=Object.assign({},this._options,{full:!0});return this.reset(),new Promise(function(e,o){var r=t.collection.getValue().find(function(t){return t.id===n});if(r&&r.validate(l))return e(r);t.call("get",t.location+"/"+n+t.params(l),l).then(function(n){return e(t.update([n.data],l).find(function(t){return t.id===n.data.id}))}).catch(function(n){return o(n)})})},n.prototype.orderBy=function(n,t){return this._options.sort=n,this._options.order=t,this},n.prototype.limit=function(n){return this._options.limit=n,this},n.prototype.page=function(n){return this._options.page=n,this},n.prototype.search=function(n){this._searchWheres.next(n)},n.prototype.subscribe=function(n,t){var l=this;void 0===t&&(t=function(n){return console.log(n)});var e=Object.assign({},this._options);this.reset();var o=[],r=function(){var t=o.filter(function(n){return n.validate(e)});return n(t.sort(function(n,t){return l.sort(n,t,e)}).slice(0,e.limit)),t},i=[];return i.push(this.collection.subscribe(function(n){o=n,r()})),i.push(this._searchWheres.subscribe(function(n){Object.assign(e,{wheres:n}),r().length<e.limit&&l.fetch(e).catch(function(n){return t(n)})})),this.collection.getValue().filter(function(n){return n.validate(e)}).length<e.limit&&this.fetch(e).catch(function(n){return t(n)}),Object.assign(this,{subscriptions:i})},n.prototype.unsubscribe=function(){this.subscriptions.forEach(function(n){return n.unsubscribe()})},n.prototype.create=function(n){var t=this,l=Object.assign({},this._options);return this.reset(),this.call("post",this.location,{data:n}).then(function(n){return t.update([n.data],l).find(function(t){return t.id===n.data.id})})},n.prototype.delete=function(n){this.collection.next(this.collection.getValue().filter(function(t){return t.id!==n}))},n.prototype.findOrCreate=function(n){return this.collection.getValue().find(function(t){return t.id===n.id})||this.update([n],null).find(function(t){return t.id===n.id})},n.prototype.call=function(n,t,l){var e={headers:{Accept:"application/json","Content-Type":"application/json"}};switch(n){case"get":case"delete":return this.httpClient[n](t,e).toPromise();case"post":case"put":case"patch":return this.httpClient[n](t,l.data,e).toPromise()}},n.prototype.refresh=function(){},n.prototype.fetch=function(n){var t,l=this;return n.wheres.length>0?(n.data={wheres:n.wheres},t=this.call("post",this.location+"/search"+this.params(n),n)):t=this.call("get",this.location+this.params(n)),t.then(function(t){l.update(t.data,n)})},n.prototype.reset=function(){this._options={sort:"id",order:e.ASC,limit:20,page:1,with:[],wheres:[],full:!1}},n.prototype.update=function(n,t){var l=this,e=this.collection.getValue();return n.forEach(function(n){var o=e.find(function(t){return t.id===n.id});if(o)return o.fill(n,t);e.push(new r(l).fill(n,t))}),this.collection.next(e),e},n.prototype.params=function(n){var t=[];return n.with.length&&(t.with=n.with.map(function(n){return"string"==typeof n?n:n.name}).join(",")),"?"+Object.keys(t).filter(function(n){return null!==t[n]}).map(function(n){return n+"="+t[n]}).join("&")},n.prototype.sort=function(n,t,l){var o=n[l.sort],r=t[l.sort];return+o==+o?l.order===e.DESC?r-o:o-r:o.localeCompare(r)>0?l.order===e.DESC?-1:1:o.localeCompare(r)<0?l.order===e.DESC?1:-1:void 0},n.ngInjectableDef=c.S({factory:function(){return new n(c.W(a.c))},token:n,providedIn:"root"}),n}()},TbC0:function(n,t,l){"use strict";l.r(t);var e=l("CcnG"),o=l("mrSG"),r=l("yYJu"),i=l("ZZ/e"),u=l("3n8g"),c=l("Ovi0"),a=function(){function n(n,t){this.modalController=n,this.statsService=t}return n.prototype.ngOnInit=function(){var n=this;this.statsService.orderBy("id",c.a.DESC).limit(20).page(1).subscribe(function(t){n.recent=t})},n.prototype.importDevice=function(){return o.b(this,void 0,void 0,function(){return o.e(this,function(n){switch(n.label){case 0:return[4,this.modalController.create({component:r.a,animated:!0,backdropDismiss:!1,keyboardClose:!1})];case 1:return[4,n.sent().present()];case 2:return[2,n.sent()]}})})},n}(),s=function(){return function(){}}(),p=l("pMnS"),h=l("pOMB"),f=l("oBZk"),b=l("Ip0R"),d=l("fNgX"),g=l("Hf/j"),v=l("ZYjt"),m=e.nb({encapsulation:0,styles:[["[_nghost-%COMP%]   ion-header[_ngcontent-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--color:var(--ion-color-light);--background:transparent}[_nghost-%COMP%]   ion-header[_ngcontent-%COMP%]::after{background-image:none}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]{border-radius:15px;overflow:hidden;cursor:pointer}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]:hover{--ion-item-background:var(--ion-color-tertiary)}[_nghost-%COMP%]   ion-label[_ngcontent-%COMP%]{color:var(--ion-color-light)}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]{cursor:pointer}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:30px;font-size:16px}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:64px}@media screen and (max-width:768px){[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]{padding:10px;font-size:3vw}[_nghost-%COMP%]   ion-card[_ngcontent-%COMP%]   ion-card-content[_ngcontent-%COMP%]   fa-icon[_ngcontent-%COMP%]{font-size:10vw}}"]],data:{}});function w(n){return e.Hb(0,[(n()(),e.pb(0,0,null,null,4,"ion-row",[["margin-top",""],["padding-top",""]],null,null,null,f.bb,f.y)),e.ob(1,49152,null,0,i.hb,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,2,"ion-title",[["color","light"],["text-center",""]],null,null,null,f.eb,f.B)),e.ob(3,49152,null,0,i.yb,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.Fb(-1,0,["Recent played"]))],function(n,t){n(t,3,0,"light")},null)}function y(n){return e.Hb(0,[(n()(),e.pb(0,0,null,null,7,"ion-item",[],null,null,null,f.S,f.p)),e.ob(1,49152,null,0,i.G,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,2,"ion-avatar",[["slot","start"]],null,null,null,f.E,f.b)),e.ob(3,49152,null,0,i.f,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,0,"img",[["src","data:image/gif;base64,R0lGODlhAQABAIAAAAAAAAAAACH5BAAAAAAALAAAAAABAAEAAAICTAEAOw=="]],null,null,null,null,null)),(n()(),e.pb(5,0,null,0,2,"ion-label",[],null,null,null,f.T,f.q)),e.ob(6,49152,null,0,i.M,[e.h,e.k],null,null),(n()(),e.Fb(-1,0,[" Song 1 "]))],null,null)}function O(n){return e.Hb(0,[(n()(),e.pb(0,0,null,null,10,"ion-row",[],null,null,null,f.bb,f.y)),e.ob(1,49152,null,0,i.hb,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,8,"ion-col",[["text-center",""]],null,null,null,f.L,f.i)),e.ob(3,49152,null,0,i.s,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,2,"ion-label",[],null,null,null,f.T,f.q)),e.ob(5,49152,null,0,i.M,[e.h,e.k],null,null),(n()(),e.Fb(-1,0,[" No recent played songs found "])),(n()(),e.pb(7,0,null,0,3,"ion-list",[["class","filled"],["lines","none"]],null,null,null,f.V,f.r)),e.ob(8,49152,null,0,i.N,[e.h,e.k],{lines:[0,"lines"]},null),(n()(),e.gb(16777216,null,0,1,null,y)),e.ob(10,278528,null,0,b.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,t){var l=t.component;n(t,8,0,"none"),n(t,10,0,l.recent)},null)}function C(n){return e.Hb(0,[(n()(),e.pb(0,0,null,null,37,"ion-grid",[["no-margin",""]],null,null,null,f.O,f.l)),e.ob(1,49152,null,0,i.z,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,31,"ion-row",[],null,null,null,f.bb,f.y)),e.ob(3,49152,null,0,i.hb,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,9,"ion-col",[],null,null,null,f.L,f.i)),e.ob(5,49152,null,0,i.s,[e.h,e.k],{size:[0,"size"]},null),(n()(),e.pb(6,0,null,0,7,"ion-card",[["color","danger"]],null,[[null,"click"]],function(n,t,l){var e=!0;return"click"===t&&(e=!1!==n.component.importDevice()&&e),e},f.J,f.f)),e.ob(7,49152,null,0,i.l,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.pb(8,0,null,0,5,"ion-card-content",[["text-center",""]],null,null,null,f.I,f.g)),e.ob(9,49152,null,0,i.m,[e.h,e.k],null,null),(n()(),e.pb(10,0,null,0,1,"fa-icon",[["class","ng-fa-icon"],["icon","download"]],[[8,"innerHTML",1]],null,null,d.b,d.a)),e.ob(11,573440,null,0,g.a,[v.b,g.b],{iconProp:[0,"iconProp"]},null),(n()(),e.pb(12,0,null,0,1,"div",[],null,null,null,null,null)),(n()(),e.Fb(-1,null,["Import Files"])),(n()(),e.pb(14,0,null,0,9,"ion-col",[],null,null,null,f.L,f.i)),e.ob(15,49152,null,0,i.s,[e.h,e.k],{size:[0,"size"]},null),(n()(),e.pb(16,0,null,0,7,"ion-card",[["color","success"]],null,null,null,f.J,f.f)),e.ob(17,49152,null,0,i.l,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.pb(18,0,null,0,5,"ion-card-content",[["text-center",""]],null,null,null,f.I,f.g)),e.ob(19,49152,null,0,i.m,[e.h,e.k],null,null),(n()(),e.pb(20,0,null,0,1,"fa-icon",[["class","ng-fa-icon"],["icon","chart-bar"]],[[8,"innerHTML",1]],null,null,d.b,d.a)),e.ob(21,573440,null,0,g.a,[v.b,g.b],{iconProp:[0,"iconProp"]},null),(n()(),e.pb(22,0,null,0,1,"div",[],null,null,null,null,null)),(n()(),e.Fb(-1,null,["Statistics"])),(n()(),e.pb(24,0,null,0,9,"ion-col",[],null,null,null,f.L,f.i)),e.ob(25,49152,null,0,i.s,[e.h,e.k],{size:[0,"size"]},null),(n()(),e.pb(26,0,null,0,7,"ion-card",[["color","secondary"]],null,null,null,f.J,f.f)),e.ob(27,49152,null,0,i.l,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.pb(28,0,null,0,5,"ion-card-content",[["text-center",""]],null,null,null,f.I,f.g)),e.ob(29,49152,null,0,i.m,[e.h,e.k],null,null),(n()(),e.pb(30,0,null,0,1,"fa-icon",[["class","ng-fa-icon"],["icon","cogs"]],[[8,"innerHTML",1]],null,null,d.b,d.a)),e.ob(31,573440,null,0,g.a,[v.b,g.b],{iconProp:[0,"iconProp"]},null),(n()(),e.pb(32,0,null,0,1,"div",[],null,null,null,null,null)),(n()(),e.Fb(-1,null,["Settings"])),(n()(),e.gb(16777216,null,0,1,null,w)),e.ob(35,16384,null,0,b.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,O)),e.ob(37,16384,null,0,b.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,t){var l=t.component;n(t,5,0,4),n(t,7,0,"danger"),n(t,11,0,"download"),n(t,15,0,4),n(t,17,0,"success"),n(t,21,0,"chart-bar"),n(t,25,0,4),n(t,27,0,"secondary"),n(t,31,0,"cogs"),n(t,35,0,l.recent),n(t,37,0,l.recent)},function(n,t){n(t,10,0,e.yb(t,11).renderedIconHTML),n(t,20,0,e.yb(t,21).renderedIconHTML),n(t,30,0,e.yb(t,31).renderedIconHTML)})}function k(n){return e.Hb(0,[(n()(),e.pb(0,0,null,null,1,"app-home",[],null,null,null,C,m)),e.ob(1,114688,null,0,a,[i.Fb,u.a],null,null)],function(n,t){n(t,1,0)},null)}var _=e.lb("app-home",a,k,{},{},[]),A=l("gIcY"),P=l("ZYCi"),M=l("dvLv"),x=l("VSlL");l.d(t,"HomePageModuleNgFactory",function(){return j});var j=e.mb(s,[],function(n){return e.vb([e.wb(512,e.j,e.bb,[[8,[p.a,h.a,_]],[3,e.j],e.x]),e.wb(4608,b.l,b.k,[e.u,[2,b.r]]),e.wb(4608,A.m,A.m,[]),e.wb(4608,i.b,i.b,[e.z,e.g]),e.wb(4608,i.Fb,i.Fb,[i.b,e.j,e.q]),e.wb(4608,i.Ib,i.Ib,[i.b,e.j,e.q]),e.wb(1073742336,b.b,b.b,[]),e.wb(1073742336,A.k,A.k,[]),e.wb(1073742336,A.b,A.b,[]),e.wb(1073742336,i.Cb,i.Cb,[]),e.wb(1073742336,P.p,P.p,[[2,P.v],[2,P.m]]),e.wb(1073742336,g.f,g.f,[]),e.wb(1073742336,M.a,M.a,[]),e.wb(1073742336,x.a,x.a,[]),e.wb(1073742336,s,s,[]),e.wb(1024,P.k,function(){return[[{path:"",component:a}]]},[])])})},VSlL:function(n,t,l){"use strict";l.d(t,"a",function(){return e});var e=function(){return function(){}}()},fNgX:function(n,t,l){"use strict";l.d(t,"a",function(){return o}),l.d(t,"b",function(){return r});var e=l("CcnG"),o=(l("Hf/j"),l("Ip0R"),l("ZYjt"),e.nb({encapsulation:2,styles:[],data:{}}));function r(n){return e.Hb(0,[],null,null)}},gRba:function(n,t,l){"use strict";l.d(t,"a",function(){return u});var e=l("mrSG"),o=l("Ovi0"),r=l("CcnG"),i=l("t/Na"),u=function(n){function t(){var t=null!==n&&n.apply(this,arguments)||this;return t.name="files",t.location="/api/v1/files",t}return e.d(t,n),t.ngInjectableDef=r.S({factory:function(){return new t(r.W(i.c))},token:t,providedIn:"root"}),t}(o.b)}}]);