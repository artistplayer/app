(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"0eRn":function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("mrSG"),r=(n("9sDO"),n("ZZ/e"),n("gRba"),function(){function t(t,e,n,i){this.fileService=t,this.popoverController=e,this.playlistService=n,this.alertController=i}return t.prototype.ngOnInit=function(){var t=this;this.playlistService.subscribe(function(e){return t.playlists=e})},t.prototype.add=function(){return i.b(this,void 0,void 0,function(){var t=this;return i.e(this,function(e){return this.playlistService.create().then(function(e){return i.b(t,void 0,void 0,function(){return i.e(this,function(t){return this.choose(e),[2]})})}),[2]})})},t.prototype.choose=function(t){var e=this;t.attach(this.file).then(function(t){e.popoverController.dismiss()}).catch(function(t){console.log(t)})},t}())},"6YH3":function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("mrSG"),r=n("Ovi0"),o=n("CcnG"),l=n("t/Na"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="devices",e.location="/api/v1/devices",e}return i.d(e,t),e.ngInjectableDef=o.S({factory:function(){return new e(o.W(l.c))},token:e,providedIn:"root"}),e}(r.b)},"9sDO":function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("mrSG"),r=n("Ovi0"),o=n("ZZ/e"),l=n("CcnG"),u=n("t/Na"),s=function(t){function e(e,n){var i=t.call(this,e)||this;return i.httpClient=e,i.alertController=n,i.name="playlists",i.location="/api/v1/playlists",i}return i.d(e,t),e.prototype.create=function(){var e=this;return new Promise(function(n,r){return i.b(e,void 0,void 0,function(){var e=this;return i.e(this,function(o){switch(o.label){case 0:return[4,this.alertController.create({header:"New Playlist",inputs:[{name:"name",type:"text",placeholder:"Enter Playlist Name...",value:""}],buttons:[{text:"Cancel",role:"cancel"},{text:"Create",handler:function(o){o&&t.prototype.create.call(e,{name:o.name}).then(function(t){return i.b(e,void 0,void 0,function(){return i.e(this,function(e){return n(t),[2]})})}).catch(function(t){return r(t)})}}]})];case 1:return[4,o.sent().present()];case 2:return o.sent(),[2]}})})})},e.ngInjectableDef=l.S({factory:function(){return new e(l.W(u.c),l.W(o.a))},token:e,providedIn:"root"}),e}(r.b)},BcDN:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){return function(){}}()},L7MN:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n("ZZ/e"),n("QIP1");var i=function(){function t(t,e){this.platform=t,this.playerService=e,this.playonResume=!1}return t.prototype.ngOnInit=function(){this.playerService.currentTime()},t.prototype.resume=function(t){var e=this;this.playerService.setCurrentTime(this.timeSlider.value),setTimeout(function(){e.playonResume&&(e.playonResume=!1,e.playerService.setState("Playing"))},500)},t.prototype.pause=function(t){this.playerService.totalTime().time<1&&t.preventDefault(),this.playonResume="Playing"===this.playerService.status,this.playonResume&&this.playerService.setState("Paused")},t}()},Luc2:function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("mrSG"),r=n("bpFE"),o=(n("ZZ/e"),n("gRba"),n("0eRn")),l=n("Ovi0"),u=n("hsZO"),s=n("yYJu"),a=function(){function t(t,e,n){this.fileService=t,this.popoverController=e,this.modalController=n,this.files=[]}return t.prototype.ngOnInit=function(){},t.prototype.ionViewWillEnter=function(){var t=this;this.searcher=this.fileService,this.searchTerm&&this.searcher.where({filename:{operator:"like",value:"%"+this.searchTerm+"%"}}),this.searcher.orderBy("id",l.a.DESC).limit(100).page(1).subscribe(function(e){t.files=e})},t.prototype.ionViewWillLeave=function(){this.searcher.unsubscribe()},t.prototype.search=function(){this.searcher.search([{filename:{operator:"like",value:"%"+this.searchTerm+"%"}}])},t.prototype.add=function(t,e){return i.b(this,void 0,void 0,function(){return i.e(this,function(n){switch(n.label){case 0:return[4,this.popoverController.create({component:o.a,componentProps:{file:e},event:t,translucent:!1,mode:"ios"})];case 1:return[2,n.sent().present()]}})})},t.prototype.actions=function(t,e){return i.b(this,void 0,void 0,function(){return i.e(this,function(n){switch(n.label){case 0:return[4,this.popoverController.create({component:r.a,componentProps:{file:e},event:t,translucent:!1,mode:"ios"})];case 1:return[2,n.sent().present()]}})})},t.prototype.preview=function(t){return i.b(this,void 0,void 0,function(){return i.e(this,function(e){switch(e.label){case 0:return[4,this.modalController.create({component:u.a,cssClass:"preview-modal",componentProps:{fileId:t.id}})];case 1:return[2,e.sent().present()]}})})},t.prototype.importDevice=function(){return i.b(this,void 0,void 0,function(){return i.e(this,function(t){switch(t.label){case 0:return[4,this.modalController.create({component:s.a,animated:!0,backdropDismiss:!1,keyboardClose:!1})];case 1:return[4,t.sent().present()];case 2:return[2,t.sent()]}})})},t}()},QIP1:function(t,e,n){"use strict";var i=n("gRba"),r=n("9sDO"),o=n("3n8g"),l=n("vY5A"),u=n("K9Ia"),s=n("CcnG"),a=function(){function t(){this.stream=new u.a,this.create()}return t.prototype.create=function(){var t=this;return new Promise(function(e){t.socket=new WebSocket(l.a.socket),t.socket.addEventListener("connect",function(t){e()}),t.socket.addEventListener("message",function(e){t.stream.next(JSON.parse(e.data))})})},t.prototype.on=function(t,e){return this.stream.subscribe(function(n){n.event===t&&e(n.data,n.sender?n.sender:null)}),this},t.prototype.subscribe=function(t,e){return this.stream.subscribe(function(n){n.channel===t&&e(n.data,n.sender?n.sender:null)}),this},t.prototype.publish=function(t,e){var n=this,i=function(){n.socket.send(JSON.stringify({channel:t,event:"message",data:e}))};this.socket.readyState===this.socket.CLOSED||this.socket.readyState===this.socket.CLOSING?this.create().then(function(){return i()}):i()},t.prototype.send=function(t){var e=this,n=function(){e.socket.send(JSON.stringify({event:"message",data:t}))};this.socket.readyState===this.socket.CLOSED||this.socket.readyState===this.socket.CLOSING?this.create().then(function(){n()}):n()},t.ngInjectableDef=s.S({factory:function(){return new t},token:t,providedIn:"root"}),t}();n.d(e,"a",function(){return c});var c=function(){function t(t,e,n,i){var r=this;this.fileService=t,this.playlistService=e,this.statsService=n,this.socketService=i,this.volume=100,this.muted=!1,this.mode="normal",this.status="Paused",this.position=0,this.socketService.subscribe("omx",function(t,e){Object.keys(t).forEach(function(e){r.hasOwnProperty(e)&&(r[e]=t[e]),!t.file||!t.file.id||r.file&&r.file.id===t.file.id||(r.file=t.file,r.fileService.find(t.file.id).then(function(t){return r.file=t})),!t.playlist||!t.playlist.id||r.playlist&&r.playlist.id===t.playlist.id||(r.playlist=t.playlist,r.playlistService.find(t.playlist.id).then(function(t){return r.playlist=t}))})})}return t.prototype.setSong=function(t,e){var n=this;this.fileService.find(t).then(function(t){return n.file=t}),this.playlistService.find(e).then(function(t){return n.playlist=t}),this.socketService.publish("omx",{file:t,playlist:e})},t.prototype.isSong=function(t,e){return!!this.file&&t===this.file.id&&(!e||this.isState(e))},t.prototype.totalTime=function(){return this.convertTime(this.file?this.file.playtime:0)},t.prototype.isPlaylist=function(t){var e=this.getPlaylist();return!!e&&e.id===t},t.prototype.getPlaylist=function(){return this.playlist},t.prototype.addToQueue=function(t,e){},t.prototype.next=function(){},t.prototype.prev=function(){},t.prototype.toggleState=function(){this.file&&(this.status="Playing"===this.status?"Paused":"Playing"),this.setState(this.status)},t.prototype.setState=function(t){this.socketService.publish("omx",{status:t})},t.prototype.isState=function(t){return this.status===t},t.prototype.isMode=function(t){return this.mode===t},t.prototype.toggleMode=function(){var t=["normal","repeat","single"],e=t.indexOf(this.mode)+1;e>t.length-1&&(e=0),this.mode=t[e],this.socketService.publish("omx",{mode:this.mode})},t.prototype.setVolume=function(t){this.volume=t,this.socketService.publish("omx",{volume:t})},t.prototype.getVolume=function(){return this.volume},t.prototype.toggleMute=function(){this.socketService.publish("omx",{muted:!this.muted})},t.prototype.isMuted=function(){return this.muted},t.prototype.currentTime=function(){return this.convertTime(this.position)},t.prototype.getTimecode=function(t,e){var n="current"===e?this.currentTime():this.totalTime();return Object.keys(n).forEach(function(e){t=t.replace("{"+e+"}",n[e])}),t},t.prototype.setCurrentTime=function(t){this.socketService.publish("omx",{position:t})},t.prototype.convertTime=function(t){var e={h:0,m:0,s:0,hh:null,mm:null,ss:null,i:0,time:t};return t>0&&(e.h=Math.floor(t/60/60),e.m=Math.floor(t/60-60*e.h),e.s=Math.round(t-60*e.m-60*e.h)),e.hh=(e.h.toString().length<2?"0":null)+e.h,e.mm=(e.m.toString().length<2?"0":null)+e.m,e.ss=(e.s.toString().length<2?"0":null)+e.s,e},t.ngInjectableDef=s.S({factory:function(){return new t(s.W(i.a),s.W(r.a),s.W(o.a),s.W(a))},token:t,providedIn:"root"}),t}()},S8bb:function(t,e,n){"use strict";var i=n("CcnG"),r=n("Ip0R"),o=n("oBZk"),l=n("ZZ/e"),u=n("fNgX"),s=n("Hf/j"),a=n("ZYjt"),c=n("gIcY"),f=n("hsZO"),h=n("gRba");n.d(e,"a",function(){return g});var p=i.nb({encapsulation:0,styles:[["[_nghost-%COMP%]{border-radius:15px;background:#fff;padding:15px}[_nghost-%COMP%]   .file-label[_ngcontent-%COMP%]{font-size:13px;padding:0 20px 15px;overflow-x:hidden;overflow-y:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]   .time-slider[_ngcontent-%COMP%]{--knob-size:0;--bar-border-radius:2px}[_nghost-%COMP%]   .time-slider[_ngcontent-%COMP%]:hover{--knob-size:20px}[_nghost-%COMP%]   audio[_ngcontent-%COMP%]{visibility:hidden}"]],data:{}});function d(t){return i.Hb(0,[(t()(),i.pb(0,0,null,null,1,"div",[["class","file-label"],["text-center",""]],null,null,null,null,null)),(t()(),i.Fb(1,null,[" ","\n"]))],null,function(t,e){var n=e.component;t(e,1,0,n.file.title?n.file.artist+" - "+n.file.title:n.file.filename)})}function m(t){return i.Hb(0,[(t()(),i.pb(0,0,null,null,1,"audio",[["controls",""]],null,[[null,"loadstart"]],function(t,e,n){var i=!0;return"loadstart"===e&&(i=!1!==t.component.loadAudioElement(n.target)&&i),i},null,null)),(t()(),i.pb(1,0,null,null,0,"source",[],[[8,"src",4]],null,null,null,null))],null,function(t,e){t(e,1,0,i.rb(1,"",e.component.file.url,""))})}function v(t){return i.Hb(0,[(t()(),i.gb(16777216,null,null,1,null,d)),i.ob(1,16384,null,0,r.j,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(t()(),i.pb(2,0,null,null,11,"ion-toolbar",[["text-center",""]],null,null,null,o.V,o.x)),i.ob(3,49152,null,0,l.Ab,[i.h,i.k],null,null),(t()(),i.pb(4,0,null,0,3,"ion-button",[["slot","start"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggle()&&i),i},o.B,o.d)),i.ob(5,49152,null,0,l.j,[i.h,i.k],null,null),(t()(),i.pb(6,0,null,0,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,u.b,u.a)),i.ob(7,573440,null,0,s.a,[a.b,s.b],{iconProp:[0,"iconProp"]},null),(t()(),i.pb(8,0,null,0,3,"ion-range",[["class","time-slider"],["color","danger"],["min","0"],["mode","md"]],null,[[null,"pointerup"],[null,"pointerdown"],[null,"ionChange"],[null,"ionBlur"]],function(t,e,n){var r=!0,o=t.component;return"ionBlur"===e&&(r=!1!==i.zb(t,11)._handleBlurEvent()&&r),"ionChange"===e&&(r=!1!==i.zb(t,11)._handleChangeEvent(n.target.value)&&r),"pointerup"===e&&(r=!1!==(1===n.which?o.audioElement.play():n.preventDefault())&&r),"pointerdown"===e&&(r=!1!==(1===n.which?o.audioElement.pause():n.preventDefault())&&r),"ionChange"===e&&(r=!1!==(o.audioElement.paused?o.audioElement.currentTime=n.detail.value:null)&&r),r},o.M,o.o)),i.Cb(5120,null,c.b,function(t){return[t]},[l.Kb]),i.ob(10,49152,null,0,l.ab,[i.h,i.k],{color:[0,"color"],mode:[1,"mode"],min:[2,"min"],max:[3,"max"],value:[4,"value"]},null),i.ob(11,16384,null,0,l.Kb,[i.k],null,null),(t()(),i.pb(12,0,null,0,1,"span",[["slot","end"]],null,null,null,null,null)),(t()(),i.Fb(13,null,[""," / ",""])),(t()(),i.gb(16777216,null,null,1,null,m)),i.ob(15,16384,null,0,r.j,[i.O,i.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.file),t(e,7,0,null!=n.audioElement&&n.audioElement.paused?"play":"pause"),t(e,10,0,"danger","md","0",null==n.audioElement?null:n.audioElement.duration,null==n.audioElement?null:n.audioElement.currentTime),t(e,15,0,n.file)},function(t,e){var n=e.component;t(e,6,0,i.zb(e,7).renderedIconHTML),t(e,13,0,n.getTimecode("{m}:{ss}","current"),n.getTimecode("{m}:{ss}","total"))})}function b(t){return i.Hb(0,[(t()(),i.pb(0,0,null,null,1,"app-preview",[],null,null,null,v,p)),i.ob(1,114688,null,0,f.a,[h.a],null,null)],function(t,e){t(e,1,0)},null)}var g=i.lb("app-preview",f.a,b,{fileId:"fileId"},{},[])},bpFE:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("mrSG"),r=(n("ZZ/e"),n("gRba"),function(){function t(t,e,n){this.fileService=t,this.popoverController=e,this.alertController=n}return t.prototype.ngOnInit=function(){},t.prototype.modify=function(){return i.b(this,void 0,void 0,function(){var t=this;return i.e(this,function(e){return this.popoverController.dismiss().then(function(){return i.b(t,void 0,void 0,function(){var t=this;return i.e(this,function(e){switch(e.label){case 0:return[4,this.alertController.create({header:"Modify File",inputs:[{name:"title",type:"text",placeholder:"Enter Title...",value:this.file.title},{name:"artist",type:"text",placeholder:"Enter Artist...",value:this.file.artist}],buttons:[{text:"Cancel",role:"cancel"},{text:"Modify",handler:function(e){t.file.update({title:e.title,artist:e.artist})}}]})];case 1:return[4,e.sent().present()];case 2:return[2,e.sent()]}})})}),[2]})})},t.prototype.remove=function(){return i.b(this,void 0,void 0,function(){var t=this;return i.e(this,function(e){return this.popoverController.dismiss().then(function(){return i.b(t,void 0,void 0,function(){var t=this;return i.e(this,function(e){switch(e.label){case 0:return[4,this.alertController.create({header:"Warning",message:"Do you really want to delete this file?",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:function(){t.file.delete()}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})}),[2]})})},t}())},gRba:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("mrSG"),r=n("Ovi0"),o=n("CcnG"),l=n("t/Na"),u=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="files",e.location="/api/v1/files",e}return i.d(e,t),e.ngInjectableDef=o.S({factory:function(){return new e(o.W(l.c))},token:e,providedIn:"root"}),e}(r.b)},hsZO:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n("gRba");var i=function(){function t(t){this.fileService=t,this.isFading=!1}return t.prototype.ngOnInit=function(){var t=this;this.fileService.find(this.fileId).then(function(e){t.file=e})},t.prototype.loadAudioElement=function(t,e){void 0===e&&(e=!0),this.audioElement=t,this.audioElement.currentTime=this.file.trimAtStart?this.file.trimAtStart:0,e&&this.toggle(),t.addEventListener("timeupdate",this.listener.bind(this))},t.prototype.listener=function(){var t=this.audioElement;this.file&&t.currentTime>=t.duration-.416-(this.file.trimAtEnd?this.file.trimAtEnd:0)&&this.fadeOut().then(function(){t.pause(),t.currentTime=0})},t.prototype.toggle=function(){var t=this;this.audioElement.paused?this.audioElement.play().then(function(){t.fadeIn()}):this.fadeOut().then(function(){t.audioElement.pause()})},t.prototype.fadeIn=function(){var t=this;if(this.isFading)return!1;this.isFading=!0;var e=0,n=setInterval(function(){var i=.024*e;i>1&&(i=1),i>=t.audioElement.volume&&(t.audioElement.volume=i,t.audioElement.volume>=1&&(clearInterval(n),t.isFading=!1)),e++},10)},t.prototype.fadeOut=function(){var t=this;return new Promise(function(e){if(t.isFading)return!1;t.isFading=!0;var n=0,i=setInterval(function(){var r=1-.024*n;r<0&&(r=0),r<=t.audioElement.volume&&(t.audioElement.volume=r,t.audioElement.volume<=0&&(clearInterval(i),e(),t.isFading=!1)),n++},10)})},t.prototype.getTimecode=function(t,e){if(this.audioElement){var n=this.convertTime("current"===e?this.audioElement.currentTime:this.audioElement.duration);return Object.keys(n).forEach(function(e){t=t.replace("{"+e+"}",n[e])}),t}return"0:00"},t.prototype.convertTime=function(t){var e={h:null,m:null,s:null,hh:null,mm:null,ss:null,i:null,time:t};return e.h=Math.floor(t/60/60),e.m=Math.floor(t/60-60*e.h),e.s=Math.round(t-60*e.m-60*e.h),e.hh=(e.h.toString().length<2?"0":null)+e.h,e.mm=(e.m.toString().length<2?"0":null)+e.m,e.ss=(e.s.toString().length<2?"0":null)+e.s,e},t}()},lglH:function(t,e,n){"use strict";var i=n("CcnG");n("vPOg"),n.d(e,"a",function(){return r}),n.d(e,"b",function(){return o});var r=i.nb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;position:absolute;width:100%;height:100%}[_nghost-%COMP%]   .spinner[_ngcontent-%COMP%]{-webkit-animation:1.4s linear infinite rotator;animation:1.4s linear infinite rotator}@-webkit-keyframes rotator{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}}@keyframes rotator{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}}[_nghost-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:187;stroke-dashoffset:0;-webkit-transform-origin:center;transform-origin:center;-webkit-animation:1.4s ease-in-out infinite dash,5.6s ease-in-out infinite colors;animation:1.4s ease-in-out infinite dash,5.6s ease-in-out infinite colors}@-webkit-keyframes colors{0%,100%{stroke:#4285f4}25%{stroke:#de3e35}50%{stroke:#f7c223}75%{stroke:#1b9a59}}@keyframes colors{0%,100%{stroke:#4285f4}25%{stroke:#de3e35}50%{stroke:#f7c223}75%{stroke:#1b9a59}}@-webkit-keyframes dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;-webkit-transform:rotate(135deg);transform:rotate(135deg)}100%{stroke-dashoffset:187;-webkit-transform:rotate(450deg);transform:rotate(450deg)}}@keyframes dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;-webkit-transform:rotate(135deg);transform:rotate(135deg)}100%{stroke-dashoffset:187;-webkit-transform:rotate(450deg);transform:rotate(450deg)}}"]],data:{}});function o(t){return i.Hb(0,[(t()(),i.pb(0,0,null,null,1,":svg:svg",[["class","spinner"],["height","65px"],["viewBox","0 0 66 66"],["width","65px"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(t()(),i.pb(1,0,null,null,0,":svg:circle",[["class","path"],["cx","33"],["cy","33"],["fill","none"],["r","30"],["stroke-linecap","round"],["stroke-width","6"]],null,null,null,null,null))],null,null)}},mRNh:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){return function(){}}()},oKJH:function(t,e,n){"use strict";var i=n("CcnG"),r=n("oBZk"),o=n("ZZ/e"),l=n("fNgX"),u=n("Hf/j"),s=n("ZYjt"),a=n("gIcY"),c=n("Ip0R");n("L7MN"),n("QIP1"),n.d(e,"a",function(){return f}),n.d(e,"b",function(){return p});var f=i.nb({encapsulation:0,styles:[["[_nghost-%COMP%]   ion-range[_ngcontent-%COMP%]{padding:0;height:4px}[_nghost-%COMP%]   .time-slider[_ngcontent-%COMP%]{--knob-size:0;--bar-height:4px;--bar-border-radius:2px;--bar-background:transparent}[_nghost-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--padding-bottom:0}"]],data:{}});function h(t){return i.Hb(0,[(t()(),i.pb(0,0,null,null,20,"div",[],null,null,null,null,null)),(t()(),i.pb(1,0,null,null,15,"ion-toolbar",[["color","tertiary"]],null,null,null,r.V,r.x)),i.ob(2,49152,null,0,o.Ab,[i.h,i.k],{color:[0,"color"]},null),(t()(),i.pb(3,0,null,0,1,"div",[["no-margin",""],["slot","start"]],null,null,null,null,null)),(t()(),i.pb(4,0,null,null,0,"img",[["height","50"]],[[8,"src",4]],null,null,null,null)),(t()(),i.pb(5,0,null,0,5,"ion-title",[["text-left",""]],null,null,null,r.U,r.w)),i.ob(6,49152,null,0,o.yb,[i.h,i.k],null,null),(t()(),i.pb(7,0,null,0,1,"div",[],null,null,null,null,null)),(t()(),i.Fb(8,null,["",""])),(t()(),i.pb(9,0,null,0,1,"small",[],null,null,null,null,null)),(t()(),i.Fb(10,null,["",""])),(t()(),i.pb(11,0,null,0,5,"ion-buttons",[["slot","end"]],null,null,null,r.C,r.e)),i.ob(12,49152,null,0,o.k,[i.h,i.k],null,null),(t()(),i.pb(13,0,null,0,3,"ion-button",[["padding-end",""],["shape","round"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.playerService.toggleState()&&i),i},r.B,r.d)),i.ob(14,49152,null,0,o.j,[i.h,i.k],{shape:[0,"shape"]},null),(t()(),i.pb(15,0,null,0,1,"fa-icon",[["class","ng-fa-icon"],["size","lg"],["slot","icon-only"]],[[8,"innerHTML",1]],null,null,l.b,l.a)),i.ob(16,573440,null,0,u.a,[s.b,u.b],{iconProp:[0,"iconProp"],size:[1,"size"]},null),(t()(),i.pb(17,0,null,null,3,"ion-range",[["class","time-slider"],["color","danger"],["min","0"]],null,[[null,"pointerup"],[null,"pointerdown"],[null,"contextmenu"],[null,"ionBlur"],[null,"ionChange"]],function(t,e,n){var r=!0,o=t.component;return"ionBlur"===e&&(r=!1!==i.zb(t,20)._handleBlurEvent()&&r),"ionChange"===e&&(r=!1!==i.zb(t,20)._handleChangeEvent(n.target.value)&&r),"pointerup"===e&&(r=!1!==(1===n.which?o.resume(n):n.preventDefault())&&r),"pointerdown"===e&&(r=!1!==(1===n.which?o.pause(n):n.preventDefault())&&r),"contextmenu"===e&&(r=!1!==n.preventDefault()&&r),r},r.M,r.o)),i.Cb(5120,null,a.b,function(t){return[t]},[o.Kb]),i.ob(19,49152,[[1,4],["timeSlider",4]],0,o.ab,[i.h,i.k],{color:[0,"color"],min:[1,"min"],max:[2,"max"],value:[3,"value"]},null),i.ob(20,16384,null,0,o.Kb,[i.k],null,null)],function(t,e){var n=e.component;t(e,2,0,"tertiary"),t(e,14,0,"round"),t(e,16,0,n.playerService.isState("Playing")?"pause":"play","lg"),t(e,19,0,"danger",0,n.playerService.totalTime().time+1e-18,n.playerService.currentTime().time)},function(t,e){var n=e.component;t(e,4,0,null!=n.playerService.file&&n.playerService.file.thumbnail?null==n.playerService.file?null:n.playerService.file.thumbnail:"https://via.placeholder.com/50"),t(e,8,0,n.playerService.file?n.playerService.file.title?n.playerService.file.title:n.playerService.file.filename:""),t(e,10,0,null!=n.playerService.file&&n.playerService.file.artist?n.playerService.file.artist:""),t(e,15,0,i.zb(e,16).renderedIconHTML)})}function p(t){return i.Hb(0,[i.Db(671088640,1,{timeSlider:0}),(t()(),i.gb(16777216,null,null,1,null,h)),i.ob(2,16384,null,0,c.j,[i.O,i.L],{ngIf:[0,"ngIf"]},null)],function(t,e){t(e,2,0,e.component.playerService.file)},null)}},ufXd:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){return function(){}}()},vPOg:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){return function(){}}()},yYJu:function(t,e,n){"use strict";n.d(e,"a",function(){return r});var i=n("mrSG"),r=(n("ZZ/e"),n("6YH3"),n("gRba"),function(){function t(t,e,n,i,r){this.alertController=t,this.modalController=e,this.deviceService=n,this.fileService=i,this.loadingCtrl=r,this.selected=[],this.allSelected=!1,this.processed=[],this.importCompleted=!1}return t.prototype.ngOnInit=function(){var t=this;this.deviceService.subscribe(function(e){t.devices=e})},t.prototype.close=function(){return i.b(this,void 0,void 0,function(){var t=this;return i.e(this,function(e){switch(e.label){case 0:return!this.importItems||this.importCompleted?[3,3]:[4,this.alertController.create({header:"Are you sure?",message:"Are you sure you want to stop importing the files?",buttons:[{text:"Cancel",role:"cancel"},{text:"Stop Import",handler:function(){t.modalController.dismiss()}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[3,4];case 3:this.modalController.dismiss(),e.label=4;case 4:return[2]}})})},t.prototype.reset=function(){this.deviceId=null,this.files=null,this.result=null,this.selected=[]},t.prototype.openDevice=function(t){return i.b(this,void 0,void 0,function(){var e,n=this;return i.e(this,function(r){switch(r.label){case 0:return this.selected=[],[4,this.loadingCtrl.create()];case 1:return[4,(e=r.sent()).present()];case 2:return r.sent(),this.deviceService.with("files").find(t).then(function(r){return i.b(n,void 0,void 0,function(){return i.e(this,function(n){switch(n.label){case 0:return this.files=r.files,this.deviceId=t,this.selected=[],this.search(),[4,e.dismiss()];case 1:return n.sent(),[2]}})})}),[2]}})})},t.prototype.search=function(){var t=this;this.result=this.files.filter(function(e){return!t.searchTerm||e.filename.toLowerCase().indexOf(t.searchTerm.toLowerCase())>-1})},t.prototype.select=function(t){var e=this;if(void 0===t&&(t=!1),t){var n=this.result.map(function(t){return!!e.selected[t.integrity_hash]&&e.selected[t.integrity_hash]}),i=n.length===n.filter(function(t){return t}).length;this.files.forEach(function(t){e.selected[t.integrity_hash]=!i})}setTimeout(function(){var t=e.result.map(function(t){return!!e.selected[t.integrity_hash]&&e.selected[t.integrity_hash]});e.allSelected=t.length===t.filter(function(t){return t}).length,e.canImport=t.filter(function(t){return t}).length>0},100)},t.prototype.startImport=function(){return i.b(this,void 0,void 0,function(){var t,e,n,r,o,l,u=this;return i.e(this,function(s){switch(s.label){case 0:this.importItems=this.result.map(function(t){return!!u.selected[t.integrity_hash]&&t}).filter(function(t){return t}),t=0,e=function(e){return i.e(this,function(i){switch(i.label){case 0:return[4,n.fileService.create({filepath:e.filepath,filename:e.filename}).then(function(){return u.processed[e.integrity_hash]=!0}).catch(function(){return u.processed[e.integrity_hash]=!1})];case 1:return i.sent(),n.content.scrollToPoint(null,50*t,300),t++,[2]}})},n=this,r=0,o=this.importItems,s.label=1;case 1:return r<o.length?[5,e(o[r])]:[3,4];case 2:s.sent(),s.label=3;case 3:return r++,[3,1];case 4:return l=this,setTimeout(function(){l.importCompleted=!0,setTimeout(function(){l.modalController.dismiss()},1500)},1500),[2]}})})},t}())}}]);