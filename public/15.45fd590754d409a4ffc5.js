(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"3n8g":function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e("mrSG"),l=e("Ovi0"),i=e("CcnG"),u=e("t/Na"),o=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.name="stats",n.location="/api/v1/stats",n}return r.__extends(n,t),n.ngInjectableDef=i.Zb({factory:function(){return new n(i.ac(u.c))},token:n,providedIn:"root"}),n}(l.b)},"9sDO":function(t,n,e){"use strict";e.d(n,"a",(function(){return a}));var r=e("mrSG"),l=e("Ovi0"),i=e("ZZ/e"),u=e("CcnG"),o=e("t/Na"),a=function(t){function n(n,e){var r=t.call(this,n)||this;return r.httpClient=n,r.alertController=e,r.name="playlists",r.location="/api/v1/playlists",r}return r.__extends(n,t),n.prototype.create=function(){var n=this;return new Promise((function(e,l){return r.__awaiter(n,void 0,void 0,(function(){var n=this;return r.__generator(this,(function(i){switch(i.label){case 0:return[4,this.alertController.create({header:"New Playlist",inputs:[{name:"name",type:"text",placeholder:"Enter Playlist Name...",value:""}],buttons:[{text:"Cancel",role:"cancel"},{text:"Create",handler:function(i){i&&t.prototype.create.call(n,{name:i.name}).then((function(t){return r.__awaiter(n,void 0,void 0,(function(){return r.__generator(this,(function(n){return e(t),[2]}))}))})).catch((function(t){return l(t)}))}}]})];case 1:return[4,i.sent().present()];case 2:return i.sent(),[2]}}))}))}))},n.ngInjectableDef=u.Zb({factory:function(){return new n(u.ac(o.c),u.ac(i.a))},token:n,providedIn:"root"}),n}(l.b)},Ovi0:function(t,n,e){"use strict";var r=function(){function t(){}return t.where=function(n,e){var r=Object.keys(e);return!r.length||r.filter((function(r){return t.operatorFilter(n[r],e[r])})).length>0},t.operatorFilter=function(n,e){var r="=";if("object"==typeof e){if(e[0])return e.filter((function(e){if("object"==typeof e){var l=t.validOperator(e.operator),i=e.value?e.value:null;return null!==i&&t.matches(n,l,i)}return t.matches(n,r,e)})).length>0;e.operator&&(r=t.validOperator(e.operator)),e=e.value}return t.matches(n,r,e)},t.matches=function(n,e,r){switch("string"==typeof n&&(n=n.toLowerCase()),"string"==typeof r&&(r=r.toLowerCase()),"undefined"!==r&&"null"!==r||(r=""),e){case"neq":case"<>":case"!=":return n!==r;case"lt":case"<":return n<r;case"gt":case">":return n>r;case"lte":case"<=":return n<=r;case"gte":case">=":return n>=r;case"not like":case"!like":return!t.like(n,r);case"like":return t.like(n,r);case"!regexp":case"not regexp":return!new RegExp(r).test(n);case"regexp":return new RegExp(r).test(n);case"eq":case"<=>":default:return n===r}},t.validOperator=function(n){return t.validOperators.indexOf(n)?t.mapOperator(n):"="},t.mapOperator=function(n){return t.mappings[n]?t.mappings[n]:n},t.like=function(n,e){return"%"===e.substr(0,1)&&"%"===e.substr(e.length-1,1)?n.indexOf(t.clear(e.substring(1,e.length-1)))>-1:"%"===e.substr(0,1)?n.indexOf(t.clear(e.substring(1,e.length)))>0:"%"===e.substr(e.length-1,1)&&0===n.indexOf(t.clear(e.substring(0,e.length-1)))},t.clear=function(t){return"undefined"!==t&&"null"!==t||(t=""),t},t.validOperators=["eq","neq","lt","gt","lte","gte","!regexp","!like","<",">","<=",">=","<>","!=","<=>","like","not like","regexp","not regexp"],t.mappings={eq:"=",neq:"!=",lt:"<",gt:">",lte:"<=",gte:">=","!regexp":"not regexp","!like":"not like"},t}(),l=function(){function t(t){this.parent=t,this._listeners=[],this._isFullyload=!1}return t.prototype.addListener=function(t){console.debug("Add listener: "+t.constructor.name),this._listeners.push(t)},t.prototype.validate=function(t){var n=this;return t.with.length===t.with.filter((function(t){return"string"!=typeof t&&n[t.name]})).length&&t.wheres.length===t.wheres.filter((function(t){return r.where(n,t)})).length&&(!t.full||this._isFullyload)},t.prototype.update=function(t){var n=this;return this.parent.call("patch",this.parent.location+"/"+this.id,{data:t}).then((function(t){return n.fill(t.data)})).catch((function(t){console.log(t)}))},t.prototype.fill=function(t,n){var e=this,r=Object.assign(this,t);if(n&&(n.full&&(this._isFullyload=!0),n.with.forEach((function(t){"string"!=typeof t&&r.hasOwnProperty(t.name)&&(r[t.name]=r[t.name].map((function(n){var r=t.findOrCreate(n);return r.addListener(e),r})))})),n.sort&&n.sort.indexOf(".")>-1)){var l=n.sort.split(".");r[l[0]]=r[l[0]].sort((function(t,r){return e.parent.sort(t,r,l[1],n.order)}))}return r},t.prototype.delete=function(){var t=this;return this.parent.call("delete",this.parent.location+"/"+this.id).then((function(){t._listeners.forEach((function(n){n.cleanup(t.id,t.parent),n.parent.refresh()})),t.parent.delete(t.id),t.parent.refresh()})).catch((function(t){console.log(t)}))},t.prototype.cleanup=function(t,n){this.hasOwnProperty(n.name)&&(this[n.name]=this[n.name].filter((function(n){return n.id!==t})))},t.prototype.attach=function(t){var n,e=this,r=t.parent.name;return this.parent.call("post",this.parent.location+"/"+this.id+"/"+r,{data:(n={},n[r]=[t.id],n)}).then((function(n){Object.keys(n.data).forEach((function(t){Array.isArray(n.data[t])||(e[t]=n.data[t])})),e[r]||(e[r]=[]),e[r].push(t),t.addListener(e)}))},t.prototype.detach=function(t){var n=this,e=t.parent.name;return this.parent.call("delete",this.parent.location+"/"+this.id+"/"+e+"/"+t.id).then((function(r){n[e]&&(Object.keys(r.data).forEach((function(t){Array.isArray(r.data[t])||(n[t]=r.data[t])})),n[e]=n[e].filter((function(n){return n.id!==t.id})),t.addListener(n))}))},t.prototype.sync=function(t){var n=this;return new Promise((function(e){if(n.hasOwnProperty(t.name)){var r=n[t.name].map((function(t,n){return{id:t.id,position:n+1}}));n.parent.call("put",n.parent.location+"/"+n.id+"/"+t.name,{data:r}).catch((function(t){console.log(t)}))}e()}))},t}(),i=e("K9Ia"),u=e("26FU"),o=e("vY5A"),a=e("CcnG"),s=e("t/Na");e.d(n,"a",(function(){return c})),e.d(n,"b",(function(){return p}));var c=function(t){return t.ASC="ASC",t.DESC="DESC",t}({}),p=function(){function t(t){this.httpClient=t,this._searchWheres=new i.a,this.collection=new u.a([]),this.subscriptions=[],this.reset()}return t.prototype.where=function(t){return this._options.wheres.push(t),this},t.prototype.with=function(t){return this._options.with.push(t),this},t.prototype.find=function(t){var n=this,e=Object.assign({},this._options,{full:!0});return this.reset(),new Promise((function(r,l){var i=n.collection.getValue().find((function(n){return n.id===t}));if(i&&i.validate(e))return r(i);n.call("get",n.location+"/"+t+n.params(e),e).then((function(t){return r(n.update([t.data],e).find((function(n){return n.id===t.data.id})))})).catch((function(t){return l(t)}))}))},t.prototype.orderBy=function(t,n){return this._options.sort=t,this._options.order=n,this},t.prototype.limit=function(t){return this._options.limit=t,this},t.prototype.page=function(t){return this._options.page=t,this},t.prototype.search=function(t){this._searchWheres.next(t)},t.prototype.subscribe=function(t,n){var e=this;void 0===n&&(n=function(t){return console.debug(t)});var r=Object.assign({},this._options);this.reset();var l=[],i=function(){var n=l.filter((function(t){return t.validate(r)})).sort((function(t,n){return e.sort(t,n,r.sort,r.order)})).slice(0,r.limit);return t(n),n},u=[];return u.push(this.collection.subscribe((function(t){l=t,i()}))),u.push(this._searchWheres.subscribe((function(t){Object.assign(r,{wheres:t}),i().length<r.limit&&e.fetch(r).catch((function(t){return n(t)}))}))),this.collection.getValue().filter((function(t){return t.validate(r)})).length<r.limit&&this.fetch(r).catch((function(t){return n(t)})),Object.assign(this,{subscriptions:u})},t.prototype.unsubscribe=function(){this.subscriptions.forEach((function(t){return t.unsubscribe()}))},t.prototype.create=function(t){var n=this,e=Object.assign({},this._options);return this.reset(),this.call("post",this.location,{data:t}).then((function(t){return n.update([t.data],e).find((function(n){return n.id===t.data.id}))}))},t.prototype.delete=function(t){this.collection.next(this.collection.getValue().filter((function(n){return n.id!==t})))},t.prototype.findOrCreate=function(t){var n=this.collection.getValue().find((function(n){return n.id===t.id}));return n?n.fill(t):this.update([t],null).find((function(n){return n.id===t.id}))},t.prototype.call=function(t,n,e){var r={headers:{Accept:"application/json","Content-Type":"application/json"}};switch(e&&e.data&&Object.keys(e.data).forEach((function(t){""!==e.data[t]&&null!==e.data[t]||delete e.data[t]})),t){case"get":case"delete":return this.httpClient[t](o.a.host+n,r).toPromise();case"post":case"put":case"patch":return this.httpClient[t](o.a.host+n,e.data,r).toPromise()}},t.prototype.refresh=function(){},t.prototype.fetch=function(t){var n,e=this;return t.wheres.length>0?(t.data={wheres:t.wheres},n=this.call("post",this.location+"/search"+this.params(t),t)):n=this.call("get",this.location+this.params(t)),n.then((function(n){e.update(n.data,t)}))},t.prototype.reset=function(){this._options={sort:"id",order:c.ASC,limit:20,page:1,with:[],wheres:[],full:!1}},t.prototype.update=function(t,n){var e=this,r=this.collection.getValue();return t.forEach((function(t){var i=r.find((function(n){return n.id===t.id}));i?i.fill(t,n):r.push(new l(e).fill(t,n))})),this.collection.next(r),r},t.prototype.params=function(t){var n=[];return t.with.length&&(n.with=t.with.map((function(t){return"string"==typeof t?t:t.name})).join(",")),"?"+Object.keys(n).filter((function(t){return null!==n[t]})).map((function(t){return t+"="+n[t]})).join("&")},t.prototype.sort=function(t,n,e,r){var l=t[e],i=n[e];return+l==+l?r===c.DESC?i-l:l-i:l.localeCompare(i)>0?r===c.DESC?-1:1:l.localeCompare(i)<0?r===c.DESC?1:-1:void 0},t.ngInjectableDef=a.Zb({factory:function(){return new t(a.ac(s.c))},token:t,providedIn:"root"}),t}()},gRba:function(t,n,e){"use strict";e.d(n,"a",(function(){return o}));var r=e("mrSG"),l=e("Ovi0"),i=e("CcnG"),u=e("t/Na"),o=function(t){function n(){var n=null!==t&&t.apply(this,arguments)||this;return n.name="files",n.location="/api/v1/files",n}return r.__extends(n,t),n.ngInjectableDef=i.Zb({factory:function(){return new n(i.ac(u.c))},token:n,providedIn:"root"}),n}(l.b)},qZlf:function(t,n,e){"use strict";e.r(n);var r=e("CcnG"),l=e("mrSG"),i=e("3n8g"),u=e("gRba"),o=e("9sDO"),a=function(){function t(t,n,e){this.statsService=t,this.fileService=n,this.playlistService=e}return t.prototype.ngOnInit=function(){var t=new Date;t.setHours(t.getHours()-1),this.statsService.where({created_at:{operator:">",value:t.toJSON().split("T").join(" ").split(".")[0]}}).subscribe((function(t){console.log(t)}))},t.prototype.uploadStats=function(){return l.__awaiter(this,void 0,void 0,(function(){return l.__generator(this,(function(t){return[2]}))}))},t}(),s=function(){return function(){}}(),c=e("pMnS"),p=e("oBZk"),f=e("ZZ/e"),h=e("fNgX"),d=e("Hf/j"),b=e("ZYjt"),g=r.zb({encapsulation:0,styles:[[""]],data:{}});function v(t){return r.Vb(0,[(t()(),r.Bb(0,0,null,null,9,"ion-header",[],null,null,null,p.J,p.k)),r.Ab(1,49152,null,0,f.B,[r.j,r.p,r.F],null,null),(t()(),r.Bb(2,0,null,0,7,"ion-toolbar",[["class","ion-text-left ion-padding-top"]],null,null,null,p.X,p.y)),r.Ab(3,49152,null,0,f.Cb,[r.j,r.p,r.F],null,null),(t()(),r.Bb(4,0,null,0,1,"div",[["class","ion-padding-start"]],null,null,null,null,null)),(t()(),r.Tb(-1,null,[" Statistics "])),(t()(),r.Bb(6,0,null,0,3,"ion-button",[["size","large"],["slot","end"]],null,[[null,"tap"]],(function(t,n,e){var r=!0;return"tap"===n&&(r=!1!==t.component.uploadStats()&&r),r}),p.C,p.d)),r.Ab(7,49152,null,0,f.k,[r.j,r.p,r.F],{color:[0,"color"],fill:[1,"fill"],size:[2,"size"]},null),(t()(),r.Bb(8,0,null,0,1,"fa-icon",[["class","ng-fa-icon"],["icon","upload"]],[[8,"innerHTML",1]],null,null,h.b,h.a)),r.Ab(9,573440,null,0,d.a,[b.b,d.b],{iconProp:[0,"iconProp"]},null),(t()(),r.Bb(10,0,null,null,16,"ion-content",[["padding",""]],null,null,null,p.H,p.i)),r.Ab(11,49152,null,0,f.u,[r.j,r.p,r.F],null,null),r.Ab(12,16384,null,0,f.e,[r.p],null,null),(t()(),r.Bb(13,0,null,0,1,"h2",[],null,null,null,null,null)),(t()(),r.Tb(-1,null,["14-11-2019"])),(t()(),r.Bb(15,0,null,0,4,"ul",[],null,null,null,null,null)),(t()(),r.Bb(16,0,null,null,0,"li",[],null,null,null,null,null)),(t()(),r.Bb(17,0,null,null,0,"li",[],null,null,null,null,null)),(t()(),r.Bb(18,0,null,null,0,"li",[],null,null,null,null,null)),(t()(),r.Bb(19,0,null,null,0,"li",[],null,null,null,null,null)),(t()(),r.Bb(20,0,null,0,1,"h2",[],null,null,null,null,null)),(t()(),r.Tb(-1,null,["14-11-2019"])),(t()(),r.Bb(22,0,null,0,4,"ul",[],null,null,null,null,null)),(t()(),r.Bb(23,0,null,null,0,"li",[],null,null,null,null,null)),(t()(),r.Bb(24,0,null,null,0,"li",[],null,null,null,null,null)),(t()(),r.Bb(25,0,null,null,0,"li",[],null,null,null,null,null)),(t()(),r.Bb(26,0,null,null,0,"li",[],null,null,null,null,null))],(function(t,n){t(n,7,0,"light","clear","large"),t(n,9,0,"upload")}),(function(t,n){t(n,8,0,r.Nb(n,9).renderedIconHTML)}))}function y(t){return r.Vb(0,[(t()(),r.Bb(0,0,null,null,1,"app-statistics",[],null,null,null,v,g)),r.Ab(1,114688,null,0,a,[i.a,u.a,o.a],null,null)],(function(t,n){t(n,1,0)}),null)}var m=r.xb("app-statistics",a,y,{},{},[]),w=e("Ip0R"),_=e("gIcY"),O=e("ZYCi");e.d(n,"StatisticsPageModuleNgFactory",(function(){return C}));var C=r.yb(s,[],(function(t){return r.Kb([r.Lb(512,r.m,r.jb,[[8,[c.a,m]],[3,r.m],r.D]),r.Lb(4608,w.l,w.k,[r.z,[2,w.r]]),r.Lb(4608,_.g,_.g,[]),r.Lb(4608,f.b,f.b,[r.F,r.g]),r.Lb(4608,f.Hb,f.Hb,[f.b,r.m,r.w]),r.Lb(4608,f.Kb,f.Kb,[f.b,r.m,r.w]),r.Lb(1073742336,w.b,w.b,[]),r.Lb(1073742336,_.f,_.f,[]),r.Lb(1073742336,_.a,_.a,[]),r.Lb(1073742336,f.Eb,f.Eb,[]),r.Lb(1073742336,O.q,O.q,[[2,O.v],[2,O.m]]),r.Lb(1073742336,d.f,d.f,[]),r.Lb(1073742336,s,s,[]),r.Lb(1024,O.k,(function(){return[[{path:"",component:a}]]}),[])])}))}}]);