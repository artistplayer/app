(window.webpackJsonp=window.webpackJsonp||[]).push([[4],{"0eRn":function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("mrSG"),o=(n("9sDO"),n("ZZ/e"),n("gRba"),function(){function t(t,e,n,i,o){this.fileService=t,this.popoverController=e,this.playlistService=n,this.alertController=i,this.modalController=o,this.selected=[],this.allSelected=!1}return t.prototype.ngOnInit=function(){var t=this;this.playlistService.with(this.fileService).subscribe(function(e){t.playlists=e.map(function(e){return e.disabled=void 0!==e.files.find(function(e){return e.id==t.file.id}),e})})},t.prototype.close=function(){return i.b(this,void 0,void 0,function(){return i.e(this,function(t){return this.modalController.dismiss(),[2]})})},t.prototype.add=function(){return i.b(this,void 0,void 0,function(){var t=this;return i.e(this,function(e){return this.playlistService.create().then(function(e){return i.b(t,void 0,void 0,function(){var t=this;return i.e(this,function(n){return this.update(e).then(function(e){t.close()}),[2]})})}),[2]})})},t.prototype.onchange=function(){return i.b(this,void 0,void 0,function(){return i.e(this,function(t){return this.canImport=this.selected.filter(function(t){return!!t}).length>0,[2]})})},t.prototype.select=function(){var t=this;Object.keys(this.selected).filter(function(e){return!!t.selected[e]}).map(function(e){return t.playlists.find(function(t){return t.id==e})}).forEach(function(e){t.update(e)}),this.close()},t.prototype.update=function(t){return t.attach(this.file)},t}())},"5rxC":function(t,e,n){"use strict";n.d(e,"a",function(){return u}),n.d(e,"b",function(){return c}),n.d(e,"c",function(){return a});var i=n("CcnG"),o=function(){function t(t){this.rawFile=t;var e,n=(e=t)&&(e.nodeName||e.prop&&e.attr&&e.find)?t.value:t;this["_createFrom"+("string"==typeof n?"FakePath":"Object")](n)}return t.prototype._createFromFakePath=function(t){this.lastModifiedDate=void 0,this.size=void 0,this.type="like/"+t.slice(t.lastIndexOf(".")+1).toLowerCase(),this.name=t.slice(t.lastIndexOf("/")+t.lastIndexOf("\\")+2)},t.prototype._createFromObject=function(t){this.size=t.size,this.type=t.type,this.name=t.name},t}(),r=function(){function t(t,e,n){this.url="/",this.headers=[],this.withCredentials=!0,this.formData=[],this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.index=void 0,this.uploader=t,this.some=e,this.options=n,this.file=new o(e),this._file=e,t.options&&(this.method=t.options.method||"POST",this.alias=t.options.itemAlias||"file"),this.url=t.options.url}return t.prototype.upload=function(){try{this.uploader.uploadItem(this)}catch(t){this.uploader._onCompleteItem(this,"",0,{}),this.uploader._onErrorItem(this,"",0,{})}},t.prototype.cancel=function(){this.uploader.cancelItem(this)},t.prototype.remove=function(){this.uploader.removeFromQueue(this)},t.prototype.onBeforeUpload=function(){},t.prototype.onBuildForm=function(t){return{form:t}},t.prototype.onProgress=function(t){return{progress:t}},t.prototype.onSuccess=function(t,e,n){return{response:t,status:e,headers:n}},t.prototype.onError=function(t,e,n){return{response:t,status:e,headers:n}},t.prototype.onCancel=function(t,e,n){return{response:t,status:e,headers:n}},t.prototype.onComplete=function(t,e,n){return{response:t,status:e,headers:n}},t.prototype._onBeforeUpload=function(){this.isReady=!0,this.isUploading=!0,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!1,this.isError=!1,this.progress=0,this.onBeforeUpload()},t.prototype._onBuildForm=function(t){this.onBuildForm(t)},t.prototype._onProgress=function(t){this.progress=t,this.onProgress(t)},t.prototype._onSuccess=function(t,e,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!0,this.isCancel=!1,this.isError=!1,this.progress=100,this.index=void 0,this.onSuccess(t,e,n)},t.prototype._onError=function(t,e,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!0,this.isSuccess=!1,this.isCancel=!1,this.isError=!0,this.progress=0,this.index=void 0,this.onError(t,e,n)},t.prototype._onCancel=function(t,e,n){this.isReady=!1,this.isUploading=!1,this.isUploaded=!1,this.isSuccess=!1,this.isCancel=!0,this.isError=!1,this.progress=0,this.index=void 0,this.onCancel(t,e,n)},t.prototype._onComplete=function(t,e,n){this.onComplete(t,e,n),this.uploader.options.removeAfterUpload&&this.remove()},t.prototype._prepareToUploading=function(){this.index=this.index||++this.uploader._nextIndex,this.isReady=!0},t}(),s=function(){function t(){}return t.getMimeClass=function(t){var e="application";return-1!==this.mime_psd.indexOf(t.type)?e="image":t.type.match("image.*")?e="image":t.type.match("video.*")?e="video":t.type.match("audio.*")?e="audio":"application/pdf"===t.type?e="pdf":-1!==this.mime_compress.indexOf(t.type)?e="compress":-1!==this.mime_doc.indexOf(t.type)?e="doc":-1!==this.mime_xsl.indexOf(t.type)?e="xls":-1!==this.mime_ppt.indexOf(t.type)&&(e="ppt"),"application"===e&&(e=this.fileTypeDetection(t.name)),e},t.fileTypeDetection=function(t){var e={jpg:"image",jpeg:"image",tif:"image",psd:"image",bmp:"image",png:"image",nef:"image",tiff:"image",cr2:"image",dwg:"image",cdr:"image",ai:"image",indd:"image",pin:"image",cdp:"image",skp:"image",stp:"image","3dm":"image",mp3:"audio",wav:"audio",wma:"audio",mod:"audio",m4a:"audio",compress:"compress",zip:"compress",rar:"compress","7z":"compress",lz:"compress",z01:"compress",bz2:"compress",gz:"compress",pdf:"pdf",xls:"xls",xlsx:"xls",ods:"xls",mp4:"video",avi:"video",wmv:"video",mpg:"video",mts:"video",flv:"video","3gp":"video",vob:"video",m4v:"video",mpeg:"video",m2ts:"video",mov:"video",doc:"doc",docx:"doc",eps:"doc",txt:"doc",odt:"doc",rtf:"doc",ppt:"ppt",pptx:"ppt",pps:"ppt",ppsx:"ppt",odp:"ppt"},n=t.split(".");if(n.length<2)return"application";var i=n[n.length-1].toLowerCase();return void 0===e[i]?"application":e[i]},t.mime_doc=["application/msword","application/msword","application/vnd.openxmlformats-officedocument.wordprocessingml.document","application/vnd.openxmlformats-officedocument.wordprocessingml.template","application/vnd.ms-word.document.macroEnabled.12","application/vnd.ms-word.template.macroEnabled.12"],t.mime_xsl=["application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.ms-excel","application/vnd.openxmlformats-officedocument.spreadsheetml.sheet","application/vnd.openxmlformats-officedocument.spreadsheetml.template","application/vnd.ms-excel.sheet.macroEnabled.12","application/vnd.ms-excel.template.macroEnabled.12","application/vnd.ms-excel.addin.macroEnabled.12","application/vnd.ms-excel.sheet.binary.macroEnabled.12"],t.mime_ppt=["application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.ms-powerpoint","application/vnd.openxmlformats-officedocument.presentationml.presentation","application/vnd.openxmlformats-officedocument.presentationml.template","application/vnd.openxmlformats-officedocument.presentationml.slideshow","application/vnd.ms-powerpoint.addin.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.presentation.macroEnabled.12","application/vnd.ms-powerpoint.slideshow.macroEnabled.12"],t.mime_psd=["image/photoshop","image/x-photoshop","image/psd","application/photoshop","application/psd","zz-application/zz-winassoc-psd"],t.mime_compress=["application/x-gtar","application/x-gcompress","application/compress","application/x-tar","application/x-rar-compressed","application/octet-stream","application/x-zip-compressed","application/zip-compressed","application/x-7z-compressed","application/gzip","application/x-bzip2"],t}(),l=function(t){var e="function"==typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}},a=function(){function t(t){this.isUploading=!1,this.queue=[],this.progress=0,this._nextIndex=0,this.options={autoUpload:!1,isHTML5:!0,filters:[],removeAfterUpload:!1,disableMultipart:!1,formatDataFunction:function(t){return t._file},formatDataFunctionIsAsync:!1},this.setOptions(t),this.response=new i.m}return t.prototype.setOptions=function(t){this.options=Object.assign(this.options,t),this.authToken=this.options.authToken,this.authTokenHeader=this.options.authTokenHeader||"Authorization",this.autoUpload=this.options.autoUpload,this.options.filters.unshift({name:"queueLimit",fn:this._queueLimitFilter}),this.options.maxFileSize&&this.options.filters.unshift({name:"fileSize",fn:this._fileSizeFilter}),this.options.allowedFileType&&this.options.filters.unshift({name:"fileType",fn:this._fileTypeFilter}),this.options.allowedMimeType&&this.options.filters.unshift({name:"mimeType",fn:this._mimeTypeFilter});for(var e=0;e<this.queue.length;e++)this.queue[e].url=this.options.url},t.prototype.addToQueue=function(t,e,n){var i,s,a=this,u=[];try{for(var c=l(t),p=c.next();!p.done;p=c.next())u.push(p.value)}catch(m){i={error:m}}finally{try{p&&!p.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}var h=this._getFilters(n),f=this.queue.length,d=[];u.map(function(t){e||(e=a.options);var n=new o(t);if(a._isValidFile(n,h,e)){var i=new r(a,t,e);d.push(i),a.queue.push(i),a._onAfterAddingFile(i)}else a._onWhenAddingFileFailed(n,h[a._failFilterIndex],e)}),this.queue.length!==f&&(this._onAfterAddingAll(d),this.progress=this._getTotalProgress()),this._render(),this.options.autoUpload&&this.uploadAll()},t.prototype.removeFromQueue=function(t){var e=this.getIndexOfItem(t),n=this.queue[e];n.isUploading&&n.cancel(),this.queue.splice(e,1),this.progress=this._getTotalProgress()},t.prototype.clearQueue=function(){for(;this.queue.length;)this.queue[0].remove();this.progress=0},t.prototype.uploadItem=function(t){var e=this.getIndexOfItem(t),n=this.queue[e],i=this.options.isHTML5?"_xhrTransport":"_iframeTransport";n._prepareToUploading(),this.isUploading||(this.isUploading=!0,this[i](n))},t.prototype.cancelItem=function(t){var e=this.getIndexOfItem(t),n=this.queue[e];n&&n.isUploading&&(this.options.isHTML5?n._xhr:n._form).abort()},t.prototype.uploadAll=function(){var t=this.getNotUploadedItems().filter(function(t){return!t.isUploading});t.length&&(t.map(function(t){return t._prepareToUploading()}),t[0].upload())},t.prototype.cancelAll=function(){this.getNotUploadedItems().map(function(t){return t.cancel()})},t.prototype.isFile=function(t){return function(t){return File&&t instanceof File}(t)},t.prototype.isFileLikeObject=function(t){return t instanceof o},t.prototype.getIndexOfItem=function(t){return"number"==typeof t?t:this.queue.indexOf(t)},t.prototype.getNotUploadedItems=function(){return this.queue.filter(function(t){return!t.isUploaded})},t.prototype.getReadyItems=function(){return this.queue.filter(function(t){return t.isReady&&!t.isUploading}).sort(function(t,e){return t.index-e.index})},t.prototype.destroy=function(){},t.prototype.onAfterAddingAll=function(t){return{fileItems:t}},t.prototype.onBuildItemForm=function(t,e){return{fileItem:t,form:e}},t.prototype.onAfterAddingFile=function(t){return{fileItem:t}},t.prototype.onWhenAddingFileFailed=function(t,e,n){return{item:t,filter:e,options:n}},t.prototype.onBeforeUploadItem=function(t){return{fileItem:t}},t.prototype.onProgressItem=function(t,e){return{fileItem:t,progress:e}},t.prototype.onProgressAll=function(t){return{progress:t}},t.prototype.onSuccessItem=function(t,e,n,i){return{item:t,response:e,status:n,headers:i}},t.prototype.onErrorItem=function(t,e,n,i){return{item:t,response:e,status:n,headers:i}},t.prototype.onCancelItem=function(t,e,n,i){return{item:t,response:e,status:n,headers:i}},t.prototype.onCompleteItem=function(t,e,n,i){return{item:t,response:e,status:n,headers:i}},t.prototype.onCompleteAll=function(){},t.prototype._mimeTypeFilter=function(t){return!(this.options.allowedMimeType&&-1===this.options.allowedMimeType.indexOf(t.type))},t.prototype._fileSizeFilter=function(t){return!(this.options.maxFileSize&&t.size>this.options.maxFileSize)},t.prototype._fileTypeFilter=function(t){return!(this.options.allowedFileType&&-1===this.options.allowedFileType.indexOf(s.getMimeClass(t)))},t.prototype._onErrorItem=function(t,e,n,i){t._onError(e,n,i),this.onErrorItem(t,e,n,i)},t.prototype._onCompleteItem=function(t,e,n,i){t._onComplete(e,n,i),this.onCompleteItem(t,e,n,i);var o=this.getReadyItems()[0];this.isUploading=!1,o?o.upload():(this.onCompleteAll(),this.progress=this._getTotalProgress(),this._render())},t.prototype._headersGetter=function(t){return function(e){return e?t[e.toLowerCase()]||void 0:t}},t.prototype._xhrTransport=function(t){var e,n,i,o,r,s=this,a=this,u=t._xhr=new XMLHttpRequest;if(this._onBeforeUploadItem(t),"number"!=typeof t._file.size)throw new TypeError("The file specified is no longer valid");if(this.options.disableMultipart)r=this.options.formatDataFunction(t);else{r=new FormData,this._onBuildItemForm(t,r);var c=function(){return r.append(t.alias,t._file,t.file.name)};this.options.parametersBeforeFiles||c(),void 0!==this.options.additionalParameter&&Object.keys(this.options.additionalParameter).forEach(function(e){var n=s.options.additionalParameter[e];"string"==typeof n&&n.indexOf("{{file_name}}")>=0&&(n=n.replace("{{file_name}}",t.file.name)),r.append(e,n)}),this.options.parametersBeforeFiles&&c()}if(u.upload.onprogress=function(e){var n=Math.round(e.lengthComputable?100*e.loaded/e.total:0);s._onProgressItem(t,n)},u.onload=function(){var e=s._parseHeaders(u.getAllResponseHeaders()),n=s._transformResponse(u.response,e),i=s._isSuccessCode(u.status)?"Success":"Error";s["_on"+i+"Item"](t,n,u.status,e),s._onCompleteItem(t,n,u.status,e)},u.onerror=function(){var e=s._parseHeaders(u.getAllResponseHeaders()),n=s._transformResponse(u.response,e);s._onErrorItem(t,n,u.status,e),s._onCompleteItem(t,n,u.status,e)},u.onabort=function(){var e=s._parseHeaders(u.getAllResponseHeaders()),n=s._transformResponse(u.response,e);s._onCancelItem(t,n,u.status,e),s._onCompleteItem(t,n,u.status,e)},u.open(t.method,t.url,!0),u.withCredentials=t.withCredentials,this.options.headers)try{for(var p=l(this.options.headers),h=p.next();!h.done;h=p.next())u.setRequestHeader((m=h.value).name,m.value)}catch(v){e={error:v}}finally{try{h&&!h.done&&(n=p.return)&&n.call(p)}finally{if(e)throw e.error}}if(t.headers.length)try{for(var f=l(t.headers),d=f.next();!d.done;d=f.next()){var m;u.setRequestHeader((m=d.value).name,m.value)}}catch(g){i={error:g}}finally{try{d&&!d.done&&(o=f.return)&&o.call(f)}finally{if(i)throw i.error}}this.authToken&&u.setRequestHeader(this.authTokenHeader,this.authToken),u.onreadystatechange=function(){u.readyState==XMLHttpRequest.DONE&&a.response.emit(u.responseText)},this.options.formatDataFunctionIsAsync?r.then(function(t){return u.send(JSON.stringify(t))}):u.send(r),this._render()},t.prototype._getTotalProgress=function(t){if(void 0===t&&(t=0),this.options.removeAfterUpload)return t;var e=this.getNotUploadedItems().length,n=100/this.queue.length;return Math.round((e?this.queue.length-e:this.queue.length)*n+t*n/100)},t.prototype._getFilters=function(t){if(!t)return this.options.filters;if(Array.isArray(t))return t;if("string"==typeof t){var e=t.match(/[^\s,]+/g);return this.options.filters.filter(function(t){return-1!==e.indexOf(t.name)})}return this.options.filters},t.prototype._render=function(){},t.prototype._queueLimitFilter=function(){return void 0===this.options.queueLimit||this.queue.length<this.options.queueLimit},t.prototype._isValidFile=function(t,e,n){var i=this;return this._failFilterIndex=-1,!e.length||e.every(function(e){return i._failFilterIndex++,e.fn.call(i,t,n)})},t.prototype._isSuccessCode=function(t){return t>=200&&t<300||304===t},t.prototype._transformResponse=function(t,e){return t},t.prototype._parseHeaders=function(t){var e,n,i,o={};return t?(t.split("\n").map(function(t){i=t.indexOf(":"),e=t.slice(0,i).trim().toLowerCase(),n=t.slice(i+1).trim(),e&&(o[e]=o[e]?o[e]+", "+n:n)}),o):o},t.prototype._onWhenAddingFileFailed=function(t,e,n){this.onWhenAddingFileFailed(t,e,n)},t.prototype._onAfterAddingFile=function(t){this.onAfterAddingFile(t)},t.prototype._onAfterAddingAll=function(t){this.onAfterAddingAll(t)},t.prototype._onBeforeUploadItem=function(t){t._onBeforeUpload(),this.onBeforeUploadItem(t)},t.prototype._onBuildItemForm=function(t,e){t._onBuildForm(e),this.onBuildItemForm(t,e)},t.prototype._onProgressItem=function(t,e){var n=this._getTotalProgress(e);this.progress=n,t._onProgress(e),this.onProgressItem(t,e),this.onProgressAll(n),this._render()},t.prototype._onSuccessItem=function(t,e,n,i){t._onSuccess(e,n,i),this.onSuccessItem(t,e,n,i)},t.prototype._onCancelItem=function(t,e,n,i){t._onCancel(e,n,i),this.onCancelItem(t,e,n,i)},t}(),u=function(){function t(t){this.onFileSelected=new i.m,this.element=t}return t.prototype.getOptions=function(){return this.uploader.options},t.prototype.getFilters=function(){return{}},t.prototype.isEmptyAfterSelection=function(){return!!this.element.nativeElement.attributes.multiple},t.prototype.onChange=function(){var t=this.element.nativeElement.files,e=this.getOptions(),n=this.getFilters();this.uploader.addToQueue(t,e,n),this.onFileSelected.emit(t),this.isEmptyAfterSelection()&&(this.element.nativeElement.value="")},t}(),c=function(){return function(){}}()},"6YH3":function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("mrSG"),o=n("Ovi0"),r=n("CcnG"),s=n("t/Na"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="devices",e.location="/api/v1/devices",e}return i.d(e,t),e.ngInjectableDef=r.S({factory:function(){return new e(r.W(s.c))},token:e,providedIn:"root"}),e}(o.b)},"9sDO":function(t,e,n){"use strict";n.d(e,"a",function(){return a});var i=n("mrSG"),o=n("Ovi0"),r=n("ZZ/e"),s=n("CcnG"),l=n("t/Na"),a=function(t){function e(e,n){var i=t.call(this,e)||this;return i.httpClient=e,i.alertController=n,i.name="playlists",i.location="/api/v1/playlists",i}return i.d(e,t),e.prototype.create=function(){var e=this;return new Promise(function(n,o){return i.b(e,void 0,void 0,function(){var e=this;return i.e(this,function(r){switch(r.label){case 0:return[4,this.alertController.create({header:"New Playlist",inputs:[{name:"name",type:"text",placeholder:"Enter Playlist Name...",value:""}],buttons:[{text:"Cancel",role:"cancel"},{text:"Create",handler:function(r){r&&t.prototype.create.call(e,{name:r.name}).then(function(t){return i.b(e,void 0,void 0,function(){return i.e(this,function(e){return n(t),[2]})})}).catch(function(t){return o(t)})}}]})];case 1:return[4,r.sent().present()];case 2:return r.sent(),[2]}})})})},e.ngInjectableDef=s.S({factory:function(){return new e(s.W(l.c),s.W(r.a))},token:e,providedIn:"root"}),e}(o.b)},BcDN:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){return function(){}}()},L7MN:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n("ZZ/e"),n("QIP1");var i=function(){function t(t,e){this.platform=t,this.playerService=e,this.playonResume=!1}return t.prototype.ngOnInit=function(){this.playerService.currentTime()},t.prototype.resume=function(t){this.playerService.setCurrentTime(this.timeSlider.value)},t.prototype.pause=function(t){this.playerService.totalTime().time<1&&t.preventDefault()},t.prototype.openPlaylist=function(t){},t}()},Luc2:function(t,e,n){"use strict";n.d(e,"a",function(){return c});var i=n("mrSG"),o=n("bpFE"),r=(n("ZZ/e"),n("gRba"),n("0eRn")),s=n("Ovi0"),l=n("hsZO"),a=n("yYJu"),u=n("eaQS"),c=function(){function t(t,e,n){this.fileService=t,this.popoverController=e,this.modalController=n,this.files=[]}return t.prototype.ngOnInit=function(){},t.prototype.ionViewWillEnter=function(){var t=this;this.searcher=this.fileService,this.searchTerm&&this.searcher.where({filename:{operator:"like",value:"%"+this.searchTerm+"%"}}),this.searcher.orderBy("id",s.a.DESC).limit(100).page(1).subscribe(function(e){t.files=e})},t.prototype.ionViewWillLeave=function(){this.searcher.unsubscribe()},t.prototype.search=function(){this.searcher.search([{filename:{operator:"like",value:"%"+this.searchTerm+"%"}}])},t.prototype.add=function(t,e){return i.b(this,void 0,void 0,function(){return i.e(this,function(t){switch(t.label){case 0:return[4,this.modalController.create({component:r.a,cssClass:"add-modal",componentProps:{file:e}})];case 1:return[2,t.sent().present()]}})})},t.prototype.actions=function(t,e){return i.b(this,void 0,void 0,function(){return i.e(this,function(n){switch(n.label){case 0:return[4,this.popoverController.create({component:o.a,componentProps:{file:e},event:t,translucent:!1,mode:"ios"})];case 1:return[2,n.sent().present()]}})})},t.prototype.preview=function(t){return i.b(this,void 0,void 0,function(){return i.e(this,function(e){switch(e.label){case 0:return[4,this.modalController.create({component:l.a,cssClass:"preview-modal",componentProps:{fileId:t.id}})];case 1:return[2,e.sent().present()]}})})},t.prototype.importDevice=function(){return i.b(this,void 0,void 0,function(){return i.e(this,function(t){switch(t.label){case 0:return[4,this.modalController.create({component:a.a,animated:!0,backdropDismiss:!1,keyboardClose:!1})];case 1:return[4,t.sent().present()];case 2:return[2,t.sent()]}})})},t.prototype.importUpload=function(){return i.b(this,void 0,void 0,function(){return i.e(this,function(t){switch(t.label){case 0:return[4,this.modalController.create({component:u.a,animated:!0,backdropDismiss:!1,keyboardClose:!1})];case 1:return[4,t.sent().present()];case 2:return[2,t.sent()]}})})},t}()},QIP1:function(t,e,n){"use strict";var i=n("gRba"),o=n("9sDO"),r=n("3n8g"),s=n("vY5A"),l=n("K9Ia"),a=n("CcnG"),u=function(){function t(){this.stream=new l.a,this.create()}return t.prototype.create=function(){var t=this;return new Promise(function(e){t.socket=new WebSocket(s.a.socket),t.socket.addEventListener("connect",function(t){e()}),t.socket.addEventListener("message",function(e){t.stream.next(JSON.parse(e.data))})})},t.prototype.on=function(t,e){return this.stream.subscribe(function(n){n.event===t&&e(n.data,n.sender?n.sender:null)}),this},t.prototype.subscribe=function(t,e){return this.stream.subscribe(function(n){n.channel===t&&e(n.data,n.sender?n.sender:null)}),this},t.prototype.publish=function(t,e){var n=this,i=function(){n.socket.send(JSON.stringify({channel:t,event:"message",data:e}))};this.socket.readyState===this.socket.CLOSED||this.socket.readyState===this.socket.CLOSING?this.create().then(function(){return i()}):i()},t.prototype.send=function(t){var e=this,n=function(){e.socket.send(JSON.stringify({event:"message",data:t}))};this.socket.readyState===this.socket.CLOSED||this.socket.readyState===this.socket.CLOSING?this.create().then(function(){n()}):n()},t.ngInjectableDef=a.S({factory:function(){return new t},token:t,providedIn:"root"}),t}();n.d(e,"a",function(){return c});var c=function(){function t(t,e,n,i){var o=this;this.fileService=t,this.playlistService=e,this.statsService=n,this.socketService=i,this.status="Paused",this.position=0,this.socketService.subscribe("mplayer",function(t,e){Object.keys(t).forEach(function(e){o.hasOwnProperty(e)&&(o[e]=t[e]),!t.file||!t.file.id||o.file&&o.file.id===t.file.id||(o.file=t.file,o.fileService.find(t.file.id).then(function(t){return o.file=t})),!t.playlist||!t.playlist.id||o.playlist&&o.playlist.id===t.playlist.id||(o.playlist=t.playlist,o.playlistService.find(t.playlist.id).then(function(t){return o.playlist=t}))})})}return t.prototype.setSong=function(t,e){var n=this;this.fileService.find(t).then(function(t){return n.file=t}),this.playlistService.find(e).then(function(t){return n.playlist=t}),this.socketService.publish("mplayer",{file:t,playlist:e})},t.prototype.isSong=function(t,e){return!!this.file&&t===this.file.id&&(!e||this.isState(e))},t.prototype.totalTime=function(){return this.convertTime(this.file?this.file.playtime:0)},t.prototype.isPlaylist=function(t){var e=this.getPlaylist();return!!e&&e.id===t},t.prototype.getPlaylist=function(){return this.playlist},t.prototype.toggleState=function(){this.file&&(this.status="Playing"===this.status?"Paused":"Playing"),this.setState(this.status)},t.prototype.setState=function(t){this.socketService.publish("mplayer",{status:t})},t.prototype.isState=function(t){return this.status===t},t.prototype.currentTime=function(){return this.convertTime(this.position)},t.prototype.getTimecode=function(t,e){var n="current"===e?this.currentTime():this.totalTime();return Object.keys(n).forEach(function(e){t=t.replace("{"+e+"}",n[e])}),t},t.prototype.setCurrentTime=function(t){this.socketService.publish("mplayer",{position:t})},t.prototype.convertTime=function(t){var e={h:0,m:0,s:0,hh:null,mm:null,ss:null,i:0,time:t};return t>0&&(e.h=Math.floor(t/60/60),e.m=Math.floor(t/60-60*e.h),e.s=Math.round(t-60*e.m-60*e.h)),e.hh=(e.h.toString().length<2?"0":null)+e.h,e.mm=(e.m.toString().length<2?"0":null)+e.m,e.ss=(e.s.toString().length<2?"0":null)+e.s,e},t.ngInjectableDef=a.S({factory:function(){return new t(a.W(i.a),a.W(o.a),a.W(r.a),a.W(u))},token:t,providedIn:"root"}),t}()},S8bb:function(t,e,n){"use strict";var i=n("CcnG"),o=n("ZZ/e"),r=n("Ip0R"),s=n("oBZk"),l=n("fNgX"),a=n("Hf/j"),u=n("ZYjt"),c=n("gIcY"),p=n("hsZO"),h=n("gRba");n.d(e,"a",function(){return y});var f=i.nb({encapsulation:0,styles:[["[_nghost-%COMP%]{border-radius:15px;background:#fff;padding:15px}[_nghost-%COMP%]   .file-label[_ngcontent-%COMP%]{font-size:13px;padding:0 20px 15px;overflow-x:hidden;overflow-y:hidden;white-space:nowrap;text-overflow:ellipsis}[_nghost-%COMP%]   .time-slider[_ngcontent-%COMP%]{--knob-size:0;--bar-border-radius:2px}[_nghost-%COMP%]   .time-slider[_ngcontent-%COMP%]:hover{--knob-size:20px}[_nghost-%COMP%]   audio[_ngcontent-%COMP%]{visibility:hidden}"]],data:{}});function d(t){return i.Hb(0,[(t()(),i.pb(0,0,null,null,2,"div",[["class","file-label"],["text-center",""]],null,null,null,null,null)),i.ob(1,16384,null,0,o.e,[i.k],null,null),(t()(),i.Fb(2,null,[" ","\n"]))],null,function(t,e){var n=e.component;t(e,2,0,n.file.title?n.file.artist+" - "+n.file.title:n.file.filename)})}function m(t){return i.Hb(0,[(t()(),i.pb(0,0,null,null,1,"audio",[["controls",""]],null,[[null,"loadstart"]],function(t,e,n){var i=!0;return"loadstart"===e&&(i=!1!==t.component.loadAudioElement(n.target)&&i),i},null,null)),(t()(),i.pb(1,0,null,null,0,"source",[],[[8,"src",4]],null,null,null,null))],null,function(t,e){t(e,1,0,i.rb(1,"",e.component.file.url,""))})}function v(t){return i.Hb(0,[(t()(),i.gb(16777216,null,null,1,null,d)),i.ob(1,16384,null,0,r.j,[i.O,i.L],{ngIf:[0,"ngIf"]},null),(t()(),i.pb(2,0,null,null,12,"ion-toolbar",[["text-center",""]],null,null,null,s.X,s.y)),i.ob(3,49152,null,0,o.Cb,[i.h,i.k,i.z],null,null),i.ob(4,16384,null,0,o.e,[i.k],null,null),(t()(),i.pb(5,0,null,0,3,"ion-button",[["slot","start"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.toggle()&&i),i},s.C,s.d)),i.ob(6,49152,null,0,o.k,[i.h,i.k,i.z],null,null),(t()(),i.pb(7,0,null,0,1,"fa-icon",[["class","ng-fa-icon"]],[[8,"innerHTML",1]],null,null,l.b,l.a)),i.ob(8,573440,null,0,a.a,[u.b,a.b],{iconProp:[0,"iconProp"]},null),(t()(),i.pb(9,0,null,0,3,"ion-range",[["class","time-slider"],["color","danger"],["min","0"],["mode","md"]],null,[[null,"pointerup"],[null,"pointerdown"],[null,"ionChange"],[null,"ionBlur"]],function(t,e,n){var o=!0,r=t.component;return"ionBlur"===e&&(o=!1!==i.zb(t,12)._handleBlurEvent(n.target)&&o),"ionChange"===e&&(o=!1!==i.zb(t,12)._handleChangeEvent(n.target)&&o),"pointerup"===e&&(o=!1!==(1===n.which?r.audioElement.play():n.preventDefault())&&o),"pointerdown"===e&&(o=!1!==(1===n.which?r.audioElement.pause():n.preventDefault())&&o),"ionChange"===e&&(o=!1!==(r.audioElement.paused?r.audioElement.currentTime=n.detail.value:null)&&o),o},s.O,s.p)),i.Cb(5120,null,c.b,function(t){return[t]},[o.Mb]),i.ob(11,49152,null,0,o.cb,[i.h,i.k,i.z],{color:[0,"color"],max:[1,"max"],min:[2,"min"],mode:[3,"mode"],value:[4,"value"]},null),i.ob(12,16384,null,0,o.Mb,[i.k],null,null),(t()(),i.pb(13,0,null,0,1,"span",[["slot","end"]],null,null,null,null,null)),(t()(),i.Fb(14,null,[""," / ",""])),(t()(),i.gb(16777216,null,null,1,null,m)),i.ob(16,16384,null,0,r.j,[i.O,i.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,1,0,n.file),t(e,8,0,null!=n.audioElement&&n.audioElement.paused?"play":"pause"),t(e,11,0,"danger",null==n.audioElement?null:n.audioElement.duration,"0","md",null==n.audioElement?null:n.audioElement.currentTime),t(e,16,0,n.file)},function(t,e){var n=e.component;t(e,7,0,i.zb(e,8).renderedIconHTML),t(e,14,0,n.getTimecode("{m}:{ss}","current"),n.getTimecode("{m}:{ss}","total"))})}function g(t){return i.Hb(0,[(t()(),i.pb(0,0,null,null,1,"app-preview",[],null,null,null,v,f)),i.ob(1,114688,null,0,p.a,[h.a],null,null)],function(t,e){t(e,1,0)},null)}var y=i.lb("app-preview",p.a,g,{fileId:"fileId"},{},[])},bpFE:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("mrSG"),o=(n("ZZ/e"),n("gRba"),function(){function t(t,e,n){this.fileService=t,this.popoverController=e,this.alertController=n}return t.prototype.ngOnInit=function(){},t.prototype.modify=function(){return i.b(this,void 0,void 0,function(){var t=this;return i.e(this,function(e){return this.popoverController.dismiss().then(function(){return i.b(t,void 0,void 0,function(){var t=this;return i.e(this,function(e){switch(e.label){case 0:return[4,this.alertController.create({header:"Modify File",inputs:[{name:"title",type:"text",placeholder:"Enter Title...",value:this.file.title},{name:"artist",type:"text",placeholder:"Enter Artist...",value:this.file.artist}],buttons:[{text:"Cancel",role:"cancel"},{text:"Modify",handler:function(e){t.file.update({title:e.title,artist:e.artist})}}],cssClass:"modal"})];case 1:return[4,e.sent().present()];case 2:return[2,e.sent()]}})})}),[2]})})},t.prototype.remove=function(){return i.b(this,void 0,void 0,function(){var t=this;return i.e(this,function(e){return this.popoverController.dismiss().then(function(){return i.b(t,void 0,void 0,function(){var t=this;return i.e(this,function(e){switch(e.label){case 0:return[4,this.alertController.create({header:"Warning",message:"Do you really want to delete this file?",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:function(){t.file.delete()}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[2]}})})}),[2]})})},t}())},eaQS:function(t,e,n){"use strict";n.d(e,"a",function(){return s});var i=n("mrSG"),o=(n("ZZ/e"),n("5rxC")),r=n("vY5A"),s=(n("gRba"),function(){function t(t,e,n){this.modalController=t,this.httpClient=e,this.fileService=n,this.uploader=new o.c({}),this.processed=[],this.importCompleted=!1}return t.prototype.ngOnInit=function(){},t.prototype.getFiles=function(){return this.uploader.queue.map(function(t){return t.file})},t.prototype.upload=function(){return i.b(this,void 0,void 0,function(){var t,e=this;return i.e(this,function(n){switch(n.label){case 0:return t=new FormData,this.getFiles().forEach(function(e){t.append("files[]",e.rawFile,e.name)}),[4,this.httpClient.post(r.a.host+"/api/v1/upload",t).toPromise().then(function(t){return i.b(e,void 0,void 0,function(){var e,n,o,r,s,l,a=this;return i.e(this,function(u){switch(u.label){case 0:this.importItems=t,e=0,n=function(t){return i.e(this,function(n){switch(n.label){case 0:return[4,o.fileService.create({filepath:t.filepath,filename:t.filename}).then(function(){return a.processed[t.integrity_hash]=!0}).catch(function(){return a.processed[t.integrity_hash]=!1})];case 1:return n.sent(),o.content.scrollToPoint(null,50*e,300),e++,[2]}})},o=this,r=0,s=this.importItems,u.label=1;case 1:return r<s.length?[5,n(s[r])]:[3,4];case 2:u.sent(),u.label=3;case 3:return r++,[3,1];case 4:return l=this,setTimeout(function(){l.importCompleted=!0,setTimeout(function(){l.modalController.dismiss()},1500)},1500),[2]}})})})];case 1:return n.sent(),[2]}})})},t.prototype.close=function(){return i.b(this,void 0,void 0,function(){return i.e(this,function(t){return this.modalController.dismiss(),[2]})})},t}())},gRba:function(t,e,n){"use strict";n.d(e,"a",function(){return l});var i=n("mrSG"),o=n("Ovi0"),r=n("CcnG"),s=n("t/Na"),l=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.name="files",e.location="/api/v1/files",e}return i.d(e,t),e.ngInjectableDef=r.S({factory:function(){return new e(r.W(s.c))},token:e,providedIn:"root"}),e}(o.b)},hsZO:function(t,e,n){"use strict";n.d(e,"a",function(){return i}),n("gRba");var i=function(){function t(t){this.fileService=t,this.isFading=!1}return t.prototype.ngOnInit=function(){var t=this;this.fileService.find(this.fileId).then(function(e){t.file=e})},t.prototype.loadAudioElement=function(t,e){void 0===e&&(e=!0),this.audioElement=t,this.audioElement.currentTime=this.file.trimAtStart?this.file.trimAtStart:0,e&&this.toggle(),t.addEventListener("timeupdate",this.listener.bind(this))},t.prototype.listener=function(){var t=this.audioElement;this.file&&t.currentTime>=t.duration-.416-(this.file.trimAtEnd?this.file.trimAtEnd:0)&&this.fadeOut().then(function(){t.pause(),t.currentTime=0})},t.prototype.toggle=function(){var t=this;this.audioElement.paused?this.audioElement.play().then(function(){t.fadeIn()}):this.fadeOut().then(function(){t.audioElement.pause()})},t.prototype.fadeIn=function(){var t=this;if(this.isFading)return!1;this.isFading=!0;var e=0,n=setInterval(function(){var i=.024*e;i>1&&(i=1),i>=t.audioElement.volume&&(t.audioElement.volume=i,t.audioElement.volume>=1&&(clearInterval(n),t.isFading=!1)),e++},10)},t.prototype.fadeOut=function(){var t=this;return new Promise(function(e){if(t.isFading)return!1;t.isFading=!0;var n=0,i=setInterval(function(){var o=1-.024*n;o<0&&(o=0),o<=t.audioElement.volume&&(t.audioElement.volume=o,t.audioElement.volume<=0&&(clearInterval(i),e(),t.isFading=!1)),n++},10)})},t.prototype.getTimecode=function(t,e){if(this.audioElement){var n=this.convertTime("current"===e?this.audioElement.currentTime:this.audioElement.duration);return Object.keys(n).forEach(function(e){t=t.replace("{"+e+"}",n[e])}),t}return"0:00"},t.prototype.convertTime=function(t){var e={h:null,m:null,s:null,hh:null,mm:null,ss:null,i:null,time:t};return e.h=Math.floor(t/60/60),e.m=Math.floor(t/60-60*e.h),e.s=Math.round(t-60*e.m-60*e.h),e.hh=(e.h.toString().length<2?"0":null)+e.h,e.mm=(e.m.toString().length<2?"0":null)+e.m,e.ss=(e.s.toString().length<2?"0":null)+e.s,e},t}()},lglH:function(t,e,n){"use strict";var i=n("CcnG");n("vPOg"),n.d(e,"a",function(){return o}),n.d(e,"b",function(){return r});var o=i.nb({encapsulation:0,styles:[["[_nghost-%COMP%]{display:-webkit-box;display:flex;-webkit-box-align:center;align-items:center;-webkit-box-pack:center;justify-content:center;position:absolute;width:100%;height:100%}[_nghost-%COMP%]   .spinner[_ngcontent-%COMP%]{-webkit-animation:1.4s linear infinite rotator;animation:1.4s linear infinite rotator}@-webkit-keyframes rotator{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}}@keyframes rotator{0%{-webkit-transform:rotate(0);transform:rotate(0)}100%{-webkit-transform:rotate(270deg);transform:rotate(270deg)}}[_nghost-%COMP%]   .path[_ngcontent-%COMP%]{stroke-dasharray:187;stroke-dashoffset:0;-webkit-transform-origin:center;transform-origin:center;-webkit-animation:1.4s ease-in-out infinite dash,5.6s ease-in-out infinite colors;animation:1.4s ease-in-out infinite dash,5.6s ease-in-out infinite colors}@-webkit-keyframes colors{0%,100%{stroke:#4285f4}25%{stroke:#de3e35}50%{stroke:#f7c223}75%{stroke:#1b9a59}}@keyframes colors{0%,100%{stroke:#4285f4}25%{stroke:#de3e35}50%{stroke:#f7c223}75%{stroke:#1b9a59}}@-webkit-keyframes dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;-webkit-transform:rotate(135deg);transform:rotate(135deg)}100%{stroke-dashoffset:187;-webkit-transform:rotate(450deg);transform:rotate(450deg)}}@keyframes dash{0%{stroke-dashoffset:187}50%{stroke-dashoffset:46.75;-webkit-transform:rotate(135deg);transform:rotate(135deg)}100%{stroke-dashoffset:187;-webkit-transform:rotate(450deg);transform:rotate(450deg)}}"]],data:{}});function r(t){return i.Hb(0,[(t()(),i.pb(0,0,null,null,1,":svg:svg",[["class","spinner"],["height","65px"],["viewBox","0 0 66 66"],["width","65px"],["xmlns","http://www.w3.org/2000/svg"]],null,null,null,null,null)),(t()(),i.pb(1,0,null,null,0,":svg:circle",[["class","path"],["cx","33"],["cy","33"],["fill","none"],["r","30"],["stroke-linecap","round"],["stroke-width","6"]],null,null,null,null,null))],null,null)}},mRNh:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){return function(){}}()},oKJH:function(t,e,n){"use strict";var i=n("CcnG"),o=n("oBZk"),r=n("ZZ/e"),s=n("ZYCi"),l=n("Ip0R"),a=n("fNgX"),u=n("Hf/j"),c=n("ZYjt"),p=n("gIcY");n("L7MN"),n("QIP1"),n.d(e,"a",function(){return h}),n.d(e,"b",function(){return d});var h=i.nb({encapsulation:0,styles:[["[_nghost-%COMP%]   ion-range[_ngcontent-%COMP%]{padding:0;height:4px}[_nghost-%COMP%]   .time-slider[_ngcontent-%COMP%]{--knob-size:0;--bar-height:4px;--bar-border-radius:2px;--bar-background:transparent}[_nghost-%COMP%]   ion-toolbar[_ngcontent-%COMP%]{--padding-bottom:0}"]],data:{}});function f(t){return i.Hb(0,[(t()(),i.pb(0,0,null,null,29,"div",[],null,null,null,null,null)),(t()(),i.pb(1,0,null,null,24,"ion-toolbar",[["class","ion-padding"],["color","tertiary"]],null,null,null,o.X,o.y)),i.ob(2,49152,null,0,r.Cb,[i.h,i.k,i.z],{color:[0,"color"]},null),(t()(),i.pb(3,0,null,0,4,"div",[["no-margin",""],["slot","start"],["style","cursor: pointer;"]],null,[[null,"click"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==i.zb(t,4).onClick()&&o),"click"===e&&(o=!1!==i.zb(t,5).onClick(n)&&o),o},null,null)),i.ob(4,16384,null,0,s.n,[s.m,s.a,[8,null],i.D,i.k],{routerLink:[0,"routerLink"]},null),i.ob(5,737280,null,0,r.Lb,[l.h,r.Ib,i.k,s.m,[2,s.n]],null,null),i.ob(6,16384,null,0,r.e,[i.k],null,null),(t()(),i.pb(7,0,null,null,0,"img",[["height","50"]],[[8,"src",4]],null,null,null,null)),(t()(),i.pb(8,0,null,0,8,"ion-title",[["style","cursor: pointer;"],["text-left",""]],null,[[null,"click"]],function(t,e,n){var o=!0;return"click"===e&&(o=!1!==i.zb(t,10).onClick()&&o),"click"===e&&(o=!1!==i.zb(t,11).onClick(n)&&o),o},o.W,o.x)),i.ob(9,49152,null,0,r.Ab,[i.h,i.k,i.z],null,null),i.ob(10,16384,null,0,s.n,[s.m,s.a,[8,null],i.D,i.k],{routerLink:[0,"routerLink"]},null),i.ob(11,737280,null,0,r.Lb,[l.h,r.Ib,i.k,s.m,[2,s.n]],null,null),i.ob(12,16384,null,0,r.e,[i.k],null,null),(t()(),i.pb(13,0,null,0,1,"div",[],null,null,null,null,null)),(t()(),i.Fb(14,null,["",""])),(t()(),i.pb(15,0,null,0,1,"small",[],null,null,null,null,null)),(t()(),i.Fb(16,null,["",""])),(t()(),i.pb(17,0,null,0,8,"ion-buttons",[["slot","end"]],null,null,null,o.D,o.e)),i.ob(18,49152,null,0,r.l,[i.h,i.k,i.z],null,null),(t()(),i.pb(19,0,null,0,1,"small",[],null,null,null,null,null)),(t()(),i.Fb(20,null,[""," / ",""])),(t()(),i.pb(21,0,null,0,4,"ion-button",[["padding-end",""],["shape","round"]],null,[[null,"click"]],function(t,e,n){var i=!0;return"click"===e&&(i=!1!==t.component.playerService.toggleState()&&i),i},o.C,o.d)),i.ob(22,49152,null,0,r.k,[i.h,i.k,i.z],{shape:[0,"shape"]},null),i.ob(23,16384,null,0,r.e,[i.k],null,null),(t()(),i.pb(24,0,null,0,1,"fa-icon",[["class","ng-fa-icon"],["size","2x"],["slot","icon-only"]],[[8,"innerHTML",1]],null,null,a.b,a.a)),i.ob(25,573440,null,0,u.a,[c.b,u.b],{iconProp:[0,"iconProp"],size:[1,"size"]},null),(t()(),i.pb(26,0,null,null,3,"ion-range",[["class","time-slider"],["color","danger"],["min","0"]],null,[[null,"pointerup"],[null,"pointerdown"],[null,"contextmenu"],[null,"ionBlur"],[null,"ionChange"]],function(t,e,n){var o=!0,r=t.component;return"ionBlur"===e&&(o=!1!==i.zb(t,29)._handleBlurEvent(n.target)&&o),"ionChange"===e&&(o=!1!==i.zb(t,29)._handleChangeEvent(n.target)&&o),"pointerup"===e&&(o=!1!==(1===n.which?r.resume(n):n.preventDefault())&&o),"pointerdown"===e&&(o=!1!==(1===n.which?r.pause(n):n.preventDefault())&&o),"contextmenu"===e&&(o=!1!==n.preventDefault()&&o),o},o.O,o.p)),i.Cb(5120,null,p.b,function(t){return[t]},[r.Mb]),i.ob(28,49152,[[1,4],["timeSlider",4]],0,r.cb,[i.h,i.k,i.z],{color:[0,"color"],max:[1,"max"],min:[2,"min"],value:[3,"value"]},null),i.ob(29,16384,null,0,r.Mb,[i.k],null,null)],function(t,e){var n=e.component;t(e,2,0,"tertiary"),t(e,4,0,"/playlist/"+n.playerService.playlist.id),t(e,5,0),t(e,10,0,"/playlist/"+n.playerService.playlist.id),t(e,11,0),t(e,22,0,"round"),t(e,25,0,n.playerService.isState("Playing")?"pause":"play","2x"),t(e,28,0,"danger",n.playerService.totalTime().time+1e-18,0,n.playerService.currentTime().time)},function(t,e){var n=e.component;t(e,7,0,null!=n.playerService.file&&n.playerService.file.thumbnail?null==n.playerService.file?null:n.playerService.file.thumbnail:"https://via.placeholder.com/50"),t(e,14,0,n.playerService.file?n.playerService.file.title?n.playerService.file.title:n.playerService.file.filename:""),t(e,16,0,null!=n.playerService.file&&n.playerService.file.artist?n.playerService.file.artist:""),t(e,20,0,n.playerService.getTimecode("{m}:{ss}","current"),n.playerService.getTimecode("{m}:{ss}","total")),t(e,24,0,i.zb(e,25).renderedIconHTML)})}function d(t){return i.Hb(0,[i.Db(671088640,1,{timeSlider:0}),(t()(),i.gb(16777216,null,null,1,null,f)),i.ob(2,16384,null,0,l.j,[i.O,i.L],{ngIf:[0,"ngIf"]},null)],function(t,e){var n=e.component;t(e,2,0,n.playerService.file&&n.playerService.playlist)},null)}},ufXd:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){return function(){}}()},vPOg:function(t,e,n){"use strict";n.d(e,"a",function(){return i});var i=function(){return function(){}}()},yYJu:function(t,e,n){"use strict";n.d(e,"a",function(){return o});var i=n("mrSG"),o=(n("ZZ/e"),n("6YH3"),n("gRba"),function(){function t(t,e,n,i,o){this.alertController=t,this.modalController=e,this.deviceService=n,this.fileService=i,this.loadingCtrl=o,this.selected=[],this.allSelected=!1,this.processed=[],this.importCompleted=!1}return t.prototype.ngOnInit=function(){var t=this;this.deviceService.subscribe(function(e){t.devices=e})},t.prototype.close=function(){return i.b(this,void 0,void 0,function(){var t=this;return i.e(this,function(e){switch(e.label){case 0:return!this.importItems||this.importCompleted?[3,3]:[4,this.alertController.create({header:"Are you sure?",message:"Are you sure you want to stop importing the files?",buttons:[{text:"Cancel",role:"cancel"},{text:"Stop Import",handler:function(){t.modalController.dismiss()}}]})];case 1:return[4,e.sent().present()];case 2:return e.sent(),[3,4];case 3:this.modalController.dismiss(),e.label=4;case 4:return[2]}})})},t.prototype.reset=function(){this.deviceId=null,this.files=null,this.result=null,this.selected=[]},t.prototype.openDevice=function(t){return i.b(this,void 0,void 0,function(){var e,n=this;return i.e(this,function(o){switch(o.label){case 0:return this.selected=[],[4,this.loadingCtrl.create()];case 1:return[4,(e=o.sent()).present()];case 2:return o.sent(),this.deviceService.with("files").find(t).then(function(o){return i.b(n,void 0,void 0,function(){return i.e(this,function(n){switch(n.label){case 0:return this.files=o.files,this.deviceId=t,this.selected=[],this.search(),[4,e.dismiss()];case 1:return n.sent(),[2]}})})}),[2]}})})},t.prototype.search=function(){var t=this;this.result=this.files.filter(function(e){return!t.searchTerm||e.filename.toLowerCase().indexOf(t.searchTerm.toLowerCase())>-1})},t.prototype.onchange=function(t){return i.b(this,void 0,void 0,function(){var e,n,o,r=this;return i.e(this,function(i){return t&&(e=this.result.map(function(t){return!!r.selected[t.integrity_hash]&&r.selected[t.integrity_hash]}),n=e.length===e.filter(function(t){return t}).length,this.files.forEach(function(t){r.selected[t.integrity_hash]=!n})),o=this.result.map(function(t){return!!r.selected[t.integrity_hash]&&r.selected[t.integrity_hash]}),this.allSelected=o.length===o.filter(function(t){return t}).length,this.canImport=o.filter(function(t){return t}).length>0,[2]})})},t.prototype.select=function(t){var e=this;if(void 0===t&&(t=!1),t){var n=(i=this.result.map(function(t){return!!e.selected[t.integrity_hash]&&e.selected[t.integrity_hash]})).length===i.filter(function(t){return t}).length;this.files.forEach(function(t){e.selected[t.integrity_hash]=!n})}else{var i=this.result.map(function(t){return!!e.selected[t.integrity_hash]&&e.selected[t.integrity_hash]});this.allSelected=i.length===i.filter(function(t){return t}).length,this.canImport=i.filter(function(t){return t}).length>0}},t.prototype.startImport=function(){return i.b(this,void 0,void 0,function(){var t,e,n,o,r,s,l=this;return i.e(this,function(a){switch(a.label){case 0:this.importItems=this.result.map(function(t){return!!l.selected[t.integrity_hash]&&t}).filter(function(t){return t}),t=0,e=function(e){return i.e(this,function(i){switch(i.label){case 0:return[4,n.fileService.create({filepath:e.filepath,filename:e.filename}).then(function(){return l.processed[e.integrity_hash]=!0}).catch(function(){return l.processed[e.integrity_hash]=!1})];case 1:return i.sent(),n.content.scrollToPoint(null,50*t,300),t++,[2]}})},n=this,o=0,r=this.importItems,a.label=1;case 1:return o<r.length?[5,e(r[o])]:[3,4];case 2:a.sent(),a.label=3;case 3:return o++,[3,1];case 4:return s=this,setTimeout(function(){s.importCompleted=!0,setTimeout(function(){s.modalController.dismiss()},1500)},1500),[2]}})})},t}())}}]);