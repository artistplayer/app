(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{AT20:function(n,l,t){"use strict";t.r(l);var e=t("CcnG"),o=t("mrSG"),i=t("ZZ/e"),u=t("gRba"),r=function(){function n(n,l,t){this.fileService=n,this.popoverController=l,this.alertController=t}return n.prototype.ngOnInit=function(){},n.prototype.modify=function(){return o.b(this,void 0,void 0,function(){var n=this;return o.e(this,function(l){return this.popoverController.dismiss().then(function(){return o.b(n,void 0,void 0,function(){var n=this;return o.e(this,function(l){switch(l.label){case 0:return[4,this.alertController.create({header:"Rename File",inputs:[{name:"title",type:"text",placeholder:"Enter Title...",value:this.file.title},{name:"artist",type:"text",placeholder:"Enter Artist...",value:this.file.artist},{name:"trimAtStart",type:"text",placeholder:"Trim at Start",value:this.file.trimAtStart},{name:"trimAtEnd",type:"text",placeholder:"Trim at End",value:this.file.trimAtEnd}],buttons:[{text:"Cancel",role:"cancel"},{text:"Modify",handler:function(l){n.file.update({title:l.title,artist:l.artist,trimAtStart:l.trimAtStart?parseFloat(l.trimAtStart):null,trimAtEnd:l.trimAtEnd?parseFloat(l.trimAtEnd):null})}}]})];case 1:return[4,l.sent().present()];case 2:return[2,l.sent()]}})})}),[2]})})},n.prototype.remove=function(){return o.b(this,void 0,void 0,function(){var n=this;return o.e(this,function(l){return this.popoverController.dismiss().then(function(){return o.b(n,void 0,void 0,function(){var n=this;return o.e(this,function(l){switch(l.label){case 0:return[4,this.alertController.create({header:"Warning",message:"Do you really want to delete this file?",buttons:[{text:"Cancel",role:"cancel"},{text:"Delete",handler:function(){n.file.delete()}}]})];case 1:return[4,l.sent().present()];case 2:return l.sent(),[2]}})})}),[2]})})},n}(),c=t("9sDO"),a=function(){function n(n,l,t,e){this.fileService=n,this.popoverController=l,this.playlistService=t,this.alertController=e}return n.prototype.ngOnInit=function(){var n=this;this.playlistService.subscribe(function(l){return n.playlists=l})},n.prototype.add=function(){return o.b(this,void 0,void 0,function(){var n=this;return o.e(this,function(l){return this.playlistService.create().then(function(l){return o.b(n,void 0,void 0,function(){return o.e(this,function(n){return this.choose(l),[2]})})}),[2]})})},n.prototype.choose=function(n){var l=this;n.attach(this.file).then(function(n){console.log(n),l.popoverController.dismiss()}).catch(function(n){console.log(n)})},n}(),s=t("Ovi0"),b=t("hsZO"),p=function(){function n(n,l,t){this.fileService=n,this.popoverController=l,this.modalController=t,this.files=[]}return n.prototype.ngOnInit=function(){},n.prototype.ionViewWillEnter=function(){var n=this;this.searcher=this.fileService,this.searchTerm&&this.searcher.where({filename:{operator:"like",value:"%"+this.searchTerm+"%"}}),this.searcher.orderBy("id",s.a.DESC).limit(100).page(1).subscribe(function(l){n.files=l})},n.prototype.ionViewWillLeave=function(){this.searcher.unsubscribe()},n.prototype.search=function(){this.searcher.search([{filename:{operator:"like",value:"%"+this.searchTerm+"%"}}])},n.prototype.add=function(n,l){return o.b(this,void 0,void 0,function(){return o.e(this,function(t){switch(t.label){case 0:return[4,this.popoverController.create({component:a,componentProps:{file:l},event:n,translucent:!1,mode:"ios"})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}})})},n.prototype.actions=function(n,l){return o.b(this,void 0,void 0,function(){return o.e(this,function(t){switch(t.label){case 0:return[4,this.popoverController.create({component:r,componentProps:{file:l},event:n,translucent:!1,mode:"ios"})];case 1:return[4,t.sent().present()];case 2:return t.sent(),[2]}})})},n.prototype.preview=function(n){return o.b(this,void 0,void 0,function(){return o.e(this,function(l){switch(l.label){case 0:return[4,this.modalController.create({component:b.a,cssClass:"preview-modal",componentProps:{fileId:n.id}})];case 1:return l.sent().present(),[2]}})})},n}(),f=function(){return function(){}}(),h=t("pMnS"),d=t("S8bb"),m=t("oBZk"),g=t("fNgX"),v=t("Hf/j"),C=t("ZYjt"),x=t("Ip0R"),k=t("lglH"),I=t("vPOg"),M=t("gIcY"),y=e.nb({encapsulation:0,styles:[["[_nghost-%COMP%]   ion-header[_ngcontent-%COMP%]::after{background-image:none}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]{--ion-item-color:var(--ion-color-light);border-radius:15px;overflow:hidden}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]:hover{--ion-item-background:var(--ion-color-tertiary)}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]{margin:0;overflow:hidden}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-avatar[slot=start][_ngcontent-%COMP%]{margin-right:10px!important}[_nghost-%COMP%]   ion-item[_ngcontent-%COMP%]   ion-avatar[_ngcontent-%COMP%]   ion-button[_ngcontent-%COMP%]{width:100%;height:100%;margin:0}"]],data:{}});function O(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Gb(1,null,[" "," "]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.filename)})}function P(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Gb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.title)})}function w(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"span",[],null,null,null,null,null)),(n()(),e.Gb(-1,null,[" - "]))],null,null)}function S(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"small",[],null,null,null,null,null)),(n()(),e.Gb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.artist)})}function T(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"p",[],null,null,null,null,null)),(n()(),e.Gb(1,null,["",""]))],null,function(n,l){n(l,1,0,l.parent.context.$implicit.filename)})}function _(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,32,"ion-item",[],null,[[null,"contextmenu"]],function(n,l,t){var e=!0,o=n.component;return"contextmenu"===l&&(t.preventDefault(),e=!1!==o.actions(t,n.context.$implicit)&&e),e},m.S,m.p)),e.ob(1,49152,null,0,i.G,[e.h,e.k],null,null),(n()(),e.pb(2,0,null,0,5,"ion-avatar",[["class","icon"],["slot","start"]],null,null,null,m.E,m.b)),e.ob(3,49152,null,0,i.f,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,3,"ion-button",[["color","light"],["fill","clear"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.add(t,n.context.$implicit)&&e),e},m.G,m.d)),e.ob(5,49152,null,0,i.j,[e.h,e.k],{color:[0,"color"],fill:[1,"fill"]},null),(n()(),e.pb(6,0,null,0,1,"fa-icon",[["class","ng-fa-icon"],["icon","plus"]],[[8,"innerHTML",1]],null,null,g.b,g.a)),e.ob(7,573440,null,0,v.a,[C.b,v.b],{iconProp:[0,"iconProp"]},null),(n()(),e.pb(8,0,null,0,12,"ion-label",[],null,null,null,m.T,m.q)),e.ob(9,49152,null,0,i.M,[e.h,e.k],null,null),(n()(),e.pb(10,0,null,0,8,"h2",[],null,null,null,null,null)),(n()(),e.gb(16777216,null,null,1,null,O)),e.ob(12,16384,null,0,x.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,P)),e.ob(14,16384,null,0,x.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,w)),e.ob(16,16384,null,0,x.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,null,1,null,S)),e.ob(18,16384,null,0,x.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.gb(16777216,null,0,1,null,T)),e.ob(20,16384,null,0,x.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null),(n()(),e.pb(21,0,null,0,5,"ion-avatar",[["class","icon"],["slot","end"]],null,null,null,m.E,m.b)),e.ob(22,49152,null,0,i.f,[e.h,e.k],null,null),(n()(),e.pb(23,0,null,0,3,"ion-button",[["color","light"],["fill","clear"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.preview(n.context.$implicit)&&e),e},m.G,m.d)),e.ob(24,49152,null,0,i.j,[e.h,e.k],{color:[0,"color"],fill:[1,"fill"]},null),(n()(),e.pb(25,0,null,0,1,"fa-icon",[["class","ng-fa-icon"],["icon","headphones"]],[[8,"innerHTML",1]],null,null,g.b,g.a)),e.ob(26,573440,null,0,v.a,[C.b,v.b],{iconProp:[0,"iconProp"]},null),(n()(),e.pb(27,0,null,0,5,"ion-avatar",[["class","icon"],["slot","end"]],null,null,null,m.E,m.b)),e.ob(28,49152,null,0,i.f,[e.h,e.k],null,null),(n()(),e.pb(29,0,null,0,3,"ion-button",[["color","light"],["fill","clear"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.actions(t,n.context.$implicit)&&e),e},m.G,m.d)),e.ob(30,49152,null,0,i.j,[e.h,e.k],{color:[0,"color"],fill:[1,"fill"]},null),(n()(),e.pb(31,0,null,0,1,"fa-icon",[["class","ng-fa-icon"],["icon","ellipsis-v"]],[[8,"innerHTML",1]],null,null,g.b,g.a)),e.ob(32,573440,null,0,v.a,[C.b,v.b],{iconProp:[0,"iconProp"]},null)],function(n,l){n(l,5,0,"light","clear"),n(l,7,0,"plus"),n(l,12,0,!l.context.$implicit.title&&!l.context.$implicit.artist),n(l,14,0,l.context.$implicit.title),n(l,16,0,l.context.$implicit.title&&l.context.$implicit.artist),n(l,18,0,l.context.$implicit.artist),n(l,20,0,l.context.$implicit.title||l.context.$implicit.artist),n(l,24,0,"light","clear"),n(l,26,0,"headphones"),n(l,30,0,"light","clear"),n(l,32,0,"ellipsis-v")},function(n,l){n(l,6,0,e.zb(l,7).renderedIconHTML),n(l,25,0,e.zb(l,26).renderedIconHTML),n(l,31,0,e.zb(l,32).renderedIconHTML)})}function G(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,3,"ion-list",[["lines","none"]],null,null,null,m.V,m.r)),e.ob(1,49152,null,0,i.N,[e.h,e.k],{lines:[0,"lines"]},null),(n()(),e.gb(16777216,null,0,1,null,_)),e.ob(3,278528,null,0,x.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,1,0,"none"),n(l,3,0,t.files)},null)}function $(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"app-loader",[],[[8,"hidden",0]],null,null,k.b,k.a)),e.ob(1,49152,null,0,I.a,[],null,null),(n()(),e.pb(2,0,null,null,8,"ion-header",[["padding-top",""]],[[8,"hidden",0]],null,null,m.P,m.m)),e.ob(3,49152,null,0,i.A,[e.h,e.k],null,null),(n()(),e.pb(4,0,null,0,6,"ion-searchbar",[["color","light"]],[[2,"ng-untouched",null],[2,"ng-touched",null],[2,"ng-pristine",null],[2,"ng-dirty",null],[2,"ng-valid",null],[2,"ng-invalid",null],[2,"ng-pending",null]],[[null,"ngModelChange"],[null,"ionBlur"],[null,"ionChange"]],function(n,l,t){var o=!0,i=n.component;return"ionBlur"===l&&(o=!1!==e.zb(n,5)._handleBlurEvent()&&o),"ionChange"===l&&(o=!1!==e.zb(n,5)._handleInputEvent(t.target.value)&&o),"ngModelChange"===l&&(o=!1!==(i.searchTerm=t)&&o),"ngModelChange"===l&&(o=!1!==i.search()&&o),o},m.cb,m.z)),e.ob(5,16384,null,0,i.Lb,[e.k],null,null),e.Db(1024,null,M.d,function(n){return[n]},[i.Lb]),e.ob(7,671744,null,0,M.i,[[8,null],[8,null],[8,null],[6,M.d]],{model:[0,"model"]},{update:"ngModelChange"}),e.Db(2048,null,M.e,null,[M.i]),e.ob(9,16384,null,0,M.f,[[4,M.e]],null,null),e.ob(10,49152,null,0,i.ib,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.pb(11,0,null,null,3,"ion-content",[],null,null,null,m.M,m.j)),e.ob(12,49152,null,0,i.t,[e.h,e.k],null,null),(n()(),e.gb(16777216,null,0,1,null,G)),e.ob(14,16384,null,0,x.j,[e.O,e.L],{ngIf:[0,"ngIf"]},null)],function(n,l){var t=l.component;n(l,7,0,t.searchTerm),n(l,10,0,"light"),n(l,14,0,t.files)},function(n,l){var t=l.component;n(l,0,0,t.files||null===t.files),n(l,2,0,!t.files),n(l,4,0,e.zb(l,9).ngClassUntouched,e.zb(l,9).ngClassTouched,e.zb(l,9).ngClassPristine,e.zb(l,9).ngClassDirty,e.zb(l,9).ngClassValid,e.zb(l,9).ngClassInvalid,e.zb(l,9).ngClassPending)})}function L(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"app-files",[],null,null,null,$,y)),e.ob(1,114688,null,0,p,[u.a,i.Ib,i.Fb],null,null)],function(n,l){n(l,1,0)},null)}var j=e.lb("app-files",p,L,{},{},[]),E=e.nb({encapsulation:0,styles:[["[_nghost-%COMP%]{overflow:hidden;background:#fff;border-radius:15px}"]],data:{}});function z(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,11,"ion-list",[["mode","md"],["no-padding",""]],null,null,null,m.V,m.r)),e.ob(1,49152,null,0,i.N,[e.h,e.k],{mode:[0,"mode"]},null),(n()(),e.pb(2,0,null,0,4,"ion-item",[["color","light"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.modify()&&e),e},m.S,m.p)),e.ob(3,49152,null,0,i.G,[e.h,e.k],{color:[0,"color"],button:[1,"button"],detail:[2,"detail"]},null),(n()(),e.pb(4,0,null,0,2,"ion-label",[["text-center",""]],null,null,null,m.T,m.q)),e.ob(5,49152,null,0,i.M,[e.h,e.k],null,null),(n()(),e.Gb(-1,0,["Modify"])),(n()(),e.pb(7,0,null,0,4,"ion-item",[["color","light"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.remove()&&e),e},m.S,m.p)),e.ob(8,49152,null,0,i.G,[e.h,e.k],{color:[0,"color"],button:[1,"button"],detail:[2,"detail"]},null),(n()(),e.pb(9,0,null,0,2,"ion-label",[["color","danger"],["text-center",""]],null,null,null,m.T,m.q)),e.ob(10,49152,null,0,i.M,[e.h,e.k],{color:[0,"color"]},null),(n()(),e.Gb(-1,0,["Remove"]))],function(n,l){n(l,1,0,"md"),n(l,3,0,"light",!0,!1),n(l,8,0,"light",!0,!1),n(l,10,0,"danger")},null)}function A(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"ng-component",[],null,null,null,z,E)),e.ob(1,114688,null,0,r,[u.a,i.Ib,i.a],null,null)],function(n,l){n(l,1,0)},null)}var F=e.lb("ng-component",r,A,{file:"file"},{},[]),D=e.nb({encapsulation:0,styles:[["[_nghost-%COMP%]{overflow:hidden;background:#fff;border-radius:15px}"]],data:{}});function H(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,4,"ion-item",[["color","light"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.choose(n.context.$implicit)&&e),e},m.S,m.p)),e.ob(1,49152,null,0,i.G,[e.h,e.k],{color:[0,"color"],button:[1,"button"],detail:[2,"detail"],lines:[3,"lines"]},null),(n()(),e.pb(2,0,null,0,2,"ion-label",[["text-center",""]],null,null,null,m.T,m.q)),e.ob(3,49152,null,0,i.M,[e.h,e.k],null,null),(n()(),e.Gb(4,0,["",""]))],function(n,l){n(l,1,0,"light",!0,!1,"none")},function(n,l){n(l,4,0,l.context.$implicit.name)})}function q(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,8,"ion-list",[["mode","md"],["no-padding",""]],null,null,null,m.V,m.r)),e.ob(1,49152,null,0,i.N,[e.h,e.k],{mode:[0,"mode"]},null),(n()(),e.pb(2,0,null,0,4,"ion-item",[["color","light"],["mode","ios"]],null,[[null,"click"]],function(n,l,t){var e=!0;return"click"===l&&(e=!1!==n.component.add()&&e),e},m.S,m.p)),e.ob(3,49152,null,0,i.G,[e.h,e.k],{color:[0,"color"],mode:[1,"mode"],button:[2,"button"],detail:[3,"detail"]},null),(n()(),e.pb(4,0,null,0,2,"ion-label",[["text-center",""]],null,null,null,m.T,m.q)),e.ob(5,49152,null,0,i.M,[e.h,e.k],null,null),(n()(),e.Gb(-1,0,[" Create New Playlist "])),(n()(),e.gb(16777216,null,0,1,null,H)),e.ob(8,278528,null,0,x.i,[e.O,e.L,e.s],{ngForOf:[0,"ngForOf"]},null)],function(n,l){var t=l.component;n(l,1,0,"md"),n(l,3,0,"light","ios",!0,!1),n(l,8,0,t.playlists)},null)}function N(n){return e.Ib(0,[(n()(),e.pb(0,0,null,null,1,"ng-component",[],null,null,null,q,D)),e.ob(1,114688,null,0,a,[u.a,i.Ib,c.a,i.a],null,null)],function(n,l){n(l,1,0)},null)}var V=e.lb("ng-component",a,N,{file:"file"},{},[]),Z=t("ZYCi"),B=t("mRNh"),R=t("ufXd");t.d(l,"FilesPageModuleNgFactory",function(){return W});var W=e.mb(f,[],function(n){return e.wb([e.xb(512,e.j,e.bb,[[8,[h.a,d.a,j,F,V]],[3,e.j],e.x]),e.xb(4608,x.l,x.k,[e.u,[2,x.r]]),e.xb(4608,M.m,M.m,[]),e.xb(4608,i.b,i.b,[e.z,e.g]),e.xb(4608,i.Fb,i.Fb,[i.b,e.j,e.q]),e.xb(4608,i.Ib,i.Ib,[i.b,e.j,e.q]),e.xb(1073742336,x.b,x.b,[]),e.xb(1073742336,M.k,M.k,[]),e.xb(1073742336,M.b,M.b,[]),e.xb(1073742336,i.Cb,i.Cb,[]),e.xb(1073742336,Z.p,Z.p,[[2,Z.v],[2,Z.m]]),e.xb(1073742336,B.a,B.a,[]),e.xb(1073742336,v.f,v.f,[]),e.xb(1073742336,R.a,R.a,[]),e.xb(1073742336,f,f,[]),e.xb(1024,Z.k,function(){return[[{path:"",component:p}]]},[])])})}}]);