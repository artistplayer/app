{"version":3,"sources":["./src/app/components/player/player.component.html","./src/app/components/player/player.component.scss","./src/app/components/player/player.component.ts","./src/app/components/player/player.module.ts","./src/app/services/player.service.ts","./src/app/services/socket.service.ts"],"names":[],"mappings":"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","file":"default~pages-dashboard-dashboard-module~pages-files-files-module~pages-playlist-playlist-module.js","sourcesContent":["export default \"<div *ngIf=\\\"playerService.file\\\">\\n    <ion-toolbar color=\\\"tertiary\\\" class=\\\"ion-padding\\\">\\n        <div style=\\\"cursor: pointer;\\\" slot=\\\"start\\\" class=\\\"ion-no-margin\\\" tappable\\n             [routerLink]=\\\"playerService.playlist ? '/playlist/' + playerService.playlist.id : null\\\">\\n            <img [src]=\\\"playerService.file?.thumbnail ? playerService.file?.thumbnail  : 'data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mO0sSv/DwADoQHyQmSPFwAAAABJRU5ErkJggg=='\\\"\\n                 height=\\\"50\\\"/>\\n        </div>\\n\\n        <ion-title style=\\\"cursor: pointer;\\\" class=\\\"ion-text-left\\\"\\n                   [routerLink]=\\\"playerService.playlist ? '/playlist/' + playerService.playlist.id : null\\\" tappable>\\n            <div>{{playerService.file ? (playerService.file.title ? playerService.file.title : playerService.file.filename) : ''}}</div>\\n            <small>{{playerService.file?.artist ? playerService.file.artist : ''}}</small>\\n        </ion-title>\\n\\n        <ion-buttons slot=\\\"end\\\">\\n            <!--<small>{{playerService.getTimecode('{m}:{ss}', 'current')}}-->\\n            <!--/ {{playerService.getTimecode('{m}:{ss}', 'total')}}</small>-->\\n\\n\\n            <ion-button shape=\\\"round\\\" class=\\\"ion-padding-end\\\" (tap)=\\\"playerService.toggleState()\\\" tappable>\\n                <fa-icon size=\\\"lg\\\" [icon]=\\\"playerService.isState('Playing') ? 'pause' : 'play'\\\"\\n                         slot=\\\"icon-only\\\"></fa-icon>\\n            </ion-button>\\n        </ion-buttons>\\n    </ion-toolbar>\\n\\n\\n    <ion-range #timeSlider\\n               class=\\\"time-slider\\\"\\n               color=\\\"danger\\\"\\n               min=\\\"0\\\"\\n               [max]=\\\"playerService.totalTime().time + 0.000000000000000001\\\"\\n               [min]=\\\"0\\\"\\n               [value]=\\\"playerService.currentTime().time\\\"\\n               (pointerup)=\\\"$event.which === 1 ? resume($event) : $event.preventDefault()\\\"\\n               (pointerdown)=\\\"$event.which === 1 ? pause($event) : $event.preventDefault()\\\"\\n               (contextmenu)=\\\"$event.preventDefault()\\\">\\n    </ion-range>\\n</div>\"","export default \":host ion-range {\\n  padding: 0;\\n  height: 4px;\\n}\\n:host .time-slider {\\n  --knob-size: 0;\\n  --bar-height: 4px;\\n  --bar-border-radius: 2px;\\n  --bar-background: transparent;\\n}\\n:host ion-toolbar {\\n  --padding-bottom: 0;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9tYWlrZWx0ZW52b29yZGUvQXJ0aXN0UGxheWVyL0FwcC9zcmMvYXBwL2NvbXBvbmVudHMvcGxheWVyL3BsYXllci5jb21wb25lbnQuc2NzcyIsInNyYy9hcHAvY29tcG9uZW50cy9wbGF5ZXIvcGxheWVyLmNvbXBvbmVudC5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUNFO0VBQ0UsVUFBQTtFQUNBLFdBQUE7QUNBSjtBREdFO0VBQ0UsY0FBQTtFQUNBLGlCQUFBO0VBQ0Esd0JBQUE7RUFDQSw2QkFBQTtBQ0RKO0FEUUU7RUFDRSxtQkFBQTtBQ05KIiwiZmlsZSI6InNyYy9hcHAvY29tcG9uZW50cy9wbGF5ZXIvcGxheWVyLmNvbXBvbmVudC5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiOmhvc3Qge1xuICBpb24tcmFuZ2Uge1xuICAgIHBhZGRpbmc6IDA7XG4gICAgaGVpZ2h0OiA0cHg7XG4gIH1cblxuICAudGltZS1zbGlkZXIge1xuICAgIC0ta25vYi1zaXplOiAwO1xuICAgIC0tYmFyLWhlaWdodDogNHB4O1xuICAgIC0tYmFyLWJvcmRlci1yYWRpdXM6IDJweDtcbiAgICAtLWJhci1iYWNrZ3JvdW5kOiB0cmFuc3BhcmVudDtcblxuICAgICY6aG92ZXIge1xuICAgICAgLy8tLWtub2Itc2l6ZTogMjBweDtcbiAgICB9XG4gIH1cblxuICBpb24tdG9vbGJhciB7XG4gICAgLS1wYWRkaW5nLWJvdHRvbTogMDtcbiAgfVxuXG5cbiAgLy8gIC5zb25nVGl0bGUge1xuICAvLyAgICB3aWR0aDogMTgwcHg7XG4gIC8vICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgLy8gICAgd2hpdGUtc3BhY2U6IG5vd3JhcDtcbiAgLy8gICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XG4gIC8vICAgIG92ZXJmbG93OiBoaWRkZW47XG4gIC8vXG4gIC8vICAgIC5hcnRpc3Qge1xuICAvLyAgICAgIGZvbnQtc2l6ZTogMTJweDtcbiAgLy8gICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgLy8gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAvLyAgICB9XG4gIC8vXG4gIC8vICAgIC5zb25nIHtcbiAgLy8gICAgICBkaXNwbGF5OiBibG9jaztcbiAgLy8gICAgICBmb250LXdlaWdodDogYm9sZDtcbiAgLy8gICAgICB0ZXh0LW92ZXJmbG93OiBlbGxpcHNpcztcbiAgLy8gICAgICBvdmVyZmxvdzogaGlkZGVuO1xuICAvLyAgICB9XG4gIC8vXG4gIC8vICAgIC5zZXAge1xuICAvLyAgICAgIGRpc3BsYXk6IG5vbmU7XG4gIC8vICAgIH1cbiAgLy9cbiAgLy8gICAgaW9uLWltZyB7XG4gIC8vICAgICAgaGVpZ2h0OiA0OHB4O1xuICAvLyAgICAgIHBhZGRpbmctYm90dG9tOiAxMHB4O1xuICAvLyAgICB9XG4gIC8vICB9XG4gIC8vXG4gIC8vICBAbWVkaWEgb25seSBzY3JlZW4gYW5kIChtYXgtd2lkdGg6IDc2OHB4KSB7XG4gIC8vICAgIC5zb25nVGl0bGUge1xuICAvLyAgICAgIG1hcmdpbi10b3A6IC04cHg7XG4gIC8vICAgICAgZm9udC1zaXplOiAxMnB4O1xuICAvLyAgICAgIHdpZHRoOiAxMDAlO1xuICAvLyAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcbiAgLy9cbiAgLy8gICAgICAuc29uZywgLnNlcCwgLmFydGlzdCB7XG4gIC8vICAgICAgICBkaXNwbGF5OiBpbmxpbmU7XG4gIC8vICAgICAgfVxuICAvLyAgICB9XG4gIC8vICAgIC5jb250cm9scyB7XG4gIC8vICAgICAgcGFkZGluZy10b3A6IDEwcHg7XG4gIC8vICAgIH1cbiAgLy9cbiAgLy8gIH1cblxuICAvL1xuICAvLyAgLnZvbHVtZS1pY29uLCAubGlzdC1pY29uIHtcbiAgLy8gICAgbWluLXdpZHRoOiA1MHB4O1xuICAvLyAgfVxuICAvL1xuICAvLyAgaW9uLWJ1dHRvbiB7XG4gIC8vICAgIG91dGxpbmU6IG5vbmU7XG4gIC8vXG4gIC8vICAgIGlvbi1iYWRnZSB7XG4gIC8vICAgICAgcG9zaXRpb246IGFic29sdXRlO1xuICAvLyAgICAgIHRvcDogMnB4O1xuICAvLyAgICAgIHJpZ2h0OiA1LjVweDtcbiAgLy8gICAgICBmb250LXNpemU6IDlweDtcbiAgLy8gICAgICBib3JkZXItcmFkaXVzOiAxNnB4O1xuICAvLyAgICAgIHBhZGRpbmc6IDFweDtcbiAgLy8gICAgICB3aWR0aDogMTJweDtcbiAgLy8gICAgICBoZWlnaHQ6IDEycHg7XG4gIC8vICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAvLyAgICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3ItdGVydGlhcnkpO1xuICAvLyAgICB9XG4gIC8vICB9XG4gIC8vXG4gIC8vICBpb24tYnV0dG9uLmFjdGl2ZSB7XG4gIC8vICAgIGNvbG9yOiB2YXIoLS1pb24tY29sb3Itc3VjY2Vzcyk7XG4gIC8vICB9XG4gIC8vXG4gIC8vXG59IiwiOmhvc3QgaW9uLXJhbmdlIHtcbiAgcGFkZGluZzogMDtcbiAgaGVpZ2h0OiA0cHg7XG59XG46aG9zdCAudGltZS1zbGlkZXIge1xuICAtLWtub2Itc2l6ZTogMDtcbiAgLS1iYXItaGVpZ2h0OiA0cHg7XG4gIC0tYmFyLWJvcmRlci1yYWRpdXM6IDJweDtcbiAgLS1iYXItYmFja2dyb3VuZDogdHJhbnNwYXJlbnQ7XG59XG46aG9zdCBpb24tdG9vbGJhciB7XG4gIC0tcGFkZGluZy1ib3R0b206IDA7XG59Il19 */\"","import {Component, OnInit, ViewChild} from '@angular/core';\nimport {IonRange, Platform} from '@ionic/angular';\nimport {PlayerService} from '../../services/player.service';\n\n@Component({\n    selector: 'app-player',\n    templateUrl: './player.component.html',\n    styleUrls: ['./player.component.scss'],\n})\nexport class PlayerComponent implements OnInit {\n    public playonResume = false;\n\n    @ViewChild('timeSlider', { static: false }) public timeSlider: IonRange;\n\n    constructor(public platform: Platform,\n                public playerService: PlayerService) {\n    }\n\n    ngOnInit() {\n        this.playerService.currentTime();\n    }\n\n    resume($event) {\n        this.playerService.setCurrentTime(this.timeSlider.value);\n    }\n\n    pause($event) {\n        if(this.playerService.totalTime().time < 1){\n            $event.preventDefault();\n        }\n    }\n\n    openPlaylist(playlistId){\n\n    }\n\n}\n","import {NgModule} from '@angular/core';\nimport {CommonModule} from '@angular/common';\nimport {PlayerComponent} from './player.component';\nimport {FormsModule} from '@angular/forms';\nimport {IonicModule} from '@ionic/angular';\nimport {FontAwesomeModule} from '@fortawesome/angular-fontawesome';\nimport {RouterModule} from '@angular/router';\n\n@NgModule({\n    declarations: [PlayerComponent],\n    imports: [\n        CommonModule,\n        IonicModule,\n        FormsModule,\n        FontAwesomeModule,\n        RouterModule\n    ],\n    exports: [PlayerComponent]\n})\nexport class PlayerModule {\n}\n","import {Injectable} from '@angular/core';\nimport {File, FileService} from './api/file.service';\nimport {Playlist, PlaylistService} from './api/playlist.service';\nimport {StatsService} from './api/stats.service';\nimport {SocketService} from \"./socket.service\";\n\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class PlayerService {\n    public file: File;\n    public playlist: Playlist;\n\n    public status = 'Paused';\n    public position = 0;\n\n\n    constructor(private fileService: FileService,\n                private playlistService: PlaylistService,\n                private statsService: StatsService,\n                private socketService: SocketService) {\n\n\n        this.socketService.subscribe('mplayer', (data, sender) => {\n            Object.keys(data).forEach(key => {\n                if (this.hasOwnProperty(key)) {\n                    this[key] = data[key];\n                }\n\n                if (data.file && data.file.id && (!this.file || this.file.id !== data.file.id)) {\n                    this.file = data.file;\n                    this.fileService.find(data.file.id).then(file => this.file = file);\n                }\n\n                if (data.playlist && data.playlist.id && (!this.playlist || this.playlist.id !== data.playlist.id)) {\n                    this.playlist = data.playlist;\n                    this.playlistService.find(data.playlist.id).then(playlist => this.playlist = playlist);\n                }\n            });\n        });\n    }\n\n\n    // Content of the player\n    setSong(fileId: number, playlistId?: number) {\n        this.fileService.find(fileId).then(file => this.file = file);\n        if (playlistId) {\n            this.playlistService.find(playlistId).then(playlist => this.playlist = playlist);\n        }\n        this.socketService.publish('mplayer', {\n            file: fileId,\n            playlist: playlistId\n        });\n    }\n\n    isSong(id: number, state?) {\n        if (this.file) {\n            return (id === this.file.id && (!state || this.isState(state)));\n        }\n        return false;\n    }\n\n    totalTime() {\n        return this.convertTime(this.file ? this.file.playtime : 0);\n    }\n\n    isPlaylist(id) {\n        const playlist = this.getPlaylist();\n        if (playlist) {\n            return playlist.id === id;\n        }\n        return false;\n    }\n\n    getPlaylist() {\n        return this.playlist;\n    }\n\n    toggleState() {\n        const state = this.status === 'Playing' ? 'Paused' : 'Playing';\n        if (this.file) {\n            this.status = state;\n        }\n        this.setState(this.status);\n    }\n\n    setState(state) {\n        this.socketService.publish('mplayer', {\n            status: state\n        });\n    }\n\n    isState(state) {\n        return this.status === state;\n    }\n\n\n    // Player time\n    currentTime() {\n        return this.convertTime(this.position);\n    }\n\n    getTimecode(str, type) {\n        const time = type === 'current' ? this.currentTime() : this.totalTime();\n        Object.keys(<any>time).forEach(p => {\n            str = str.replace('{' + p + '}', time[p]);\n        });\n        return str;\n    }\n\n    setCurrentTime(time) {\n        this.socketService.publish('mplayer', {\n            position: time\n        });\n    }\n\n\n    // Helper functions\n\n    convertTime(time) {\n        const result = {h: 0, m: 0, s: 0, hh: null, mm: null, ss: null, i: 0, time: time};\n        if (time > 0) {\n            result.h = Math.floor(time / 60 / 60);\n            result.m = Math.floor((time / 60) - (result.h * 60));\n            result.s = Math.round(time - (result.m * 60) - (result.h * 60));\n        }\n\n        result.hh = (result.h.toString().length < 2 ? '0' : null) + result.h;\n        result.mm = (result.m.toString().length < 2 ? '0' : null) + result.m;\n        result.ss = (result.s.toString().length < 2 ? '0' : null) + result.s;\n\n        return result;\n    }\n}\n","import {Injectable} from '@angular/core';\nimport {APP_CONFIG} from \"../app-routing.module\";\nimport {Subject} from \"rxjs\";\n\ninterface SocketMessage {\n    channel?: string;\n    data?: any;\n    event?: string;\n    sender?: number;\n}\n\n\n@Injectable({\n    providedIn: 'root'\n})\nexport class SocketService {\n    private socket: WebSocket;\n    private stream = new Subject();\n\n\n    constructor() {\n        this.create();\n    }\n\n    create() {\n        return new Promise(resolve => {\n            this.socket = new WebSocket(APP_CONFIG.socket);\n            this.socket.addEventListener('connect', (msg) => {\n                resolve();\n            });\n            this.socket.addEventListener('message', (msg) => {\n                this.stream.next(JSON.parse(msg.data));\n            });\n        })\n\n    }\n\n\n    on(event: string, resolve: (msg, sender) => void) {\n        this.stream.subscribe((msg: SocketMessage) => {\n            if (msg.event === event) {\n                resolve(msg.data, (msg.sender ? msg.sender : null));\n            }\n        });\n        return this;\n    }\n\n    subscribe(channel: string, resolve: (msg, sender) => void) {\n        this.stream.subscribe((msg: SocketMessage) => {\n            if (msg.channel === channel) {\n                resolve(msg.data, (msg.sender ? msg.sender : null));\n            }\n        });\n        return this;\n    }\n\n    publish(channel, data) {\n        const fn = () => {\n            this.socket.send(JSON.stringify({\n                channel: channel,\n                event: 'message',\n                'data': data\n            }));\n        };\n\n        if (this.socket.readyState === this.socket.CLOSED || this.socket.readyState === this.socket.CLOSING) {\n            this.create().then(() => fn());\n        } else {\n            fn();\n        }\n    }\n\n\n    send(data) {\n        const fn = () => {\n            this.socket.send(JSON.stringify({\n                event: 'message',\n                'data': data\n            }));\n        };\n\n        if (this.socket.readyState === this.socket.CLOSED || this.socket.readyState === this.socket.CLOSING) {\n            this.create().then(() => {\n                fn();\n            });\n        } else {\n            fn();\n        }\n    }\n}\n"],"sourceRoot":"webpack:///"}